<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>2023 and 2024</title>

<script src="site_libs/header-attrs-2.28/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/darkly.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.13.2/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/navigation-1.1/codefolding.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet" />
<script src="site_libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<script src="site_libs/plotly-binding-4.10.4/plotly.js"></script>
<script src="site_libs/typedarray-0.1/typedarray.min.js"></script>
<link href="site_libs/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet" />
<script src="site_libs/crosstalk-1.2.1/js/crosstalk.min.js"></script>
<link href="site_libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="site_libs/plotly-main-2.11.1/plotly-latest.min.js"></script>
<script src="site_libs/kePrint-0.0.1/kePrint.js"></script>
<link href="site_libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
<link href="site_libs/font-awesome-6.4.2/css/all.min.css" rel="stylesheet" />
<link href="site_libs/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet" />

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>






<link rel="stylesheet" href="custom.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before, .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "\e259";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "\e258";
  font-family: 'Glyphicons Halflings';
  border: none;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Home</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    About
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-header">The Project</li>
    <li>
      <a href="about.html">The Data</a>
    </li>
    <li>
      <a href="our_team.html">Our Team</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Exploratory Analysis
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="2023.html">2023 Analysis</a>
    </li>
    <li>
      <a href="2024.html">2024 Analysis</a>
    </li>
    <li>
      <a href="2023_2024_analysis.html">Cross-Year Analysis</a>
    </li>
  </ul>
</li>
<li>
  <a href="Report.html">Project Report</a>
</li>
<li>
  <a href="shiny_dashboard.rmd">Dashboard</a>
</li>
<li>
  <a href="https://github.com/akgorman/spotify_data.github.io">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">

<div class="btn-group pull-right float-right">
<button type="button" class="btn btn-default btn-xs btn-secondary btn-sm dropdown-toggle" data-toggle="dropdown" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu dropdown-menu-right" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
</ul>
</div>



<h1 class="title toc-ignore">2023 and 2024</h1>

</div>


<div id="exploratory-data-analysis" class="section level1">
<h1>Exploratory Data Analysis</h1>
<div id="discussion-of-raw-data" class="section level3">
<h3>Discussion of Raw Data</h3>
<p>This page will focus on data that has merged both the 2023 and 2024
Spotify datasets. While the 2023 dataset has more qualitative data about
the tracks themselves (e.g., bpm, key, danceability, valence, etc.), the
2024 dataset has a lot more information about the popularity of the
tracks across several platforms (e.g. TikTok, etc.). We are specifically
interested in tracks that are included in both of these datasets. The
2023 dataset has 953 tracks included, while the 2024 dataset has 4425
tracks. For more information about the individual datasets, visit <a
href="2023.html">2023</a> and <a href="2024.html">2024</a>.</p>
<pre class="r"><code># Merging datasets
spotify_df=
  inner_join(spotify2023_df, spotify2024_df, by= c(&quot;track&quot;, &quot;released_month&quot;, &quot;released_day&quot;, &quot;released_year&quot;), relationship=&quot;many-to-many&quot;)</code></pre>
<pre class="r"><code># Can also use the dataset in a longer format.
spotify_long_df=
  spotify_df |&gt;
  select(
     `2023_spotify_streams`,  `2023_spotify_playlist_count`, `2023_apple_music_playlist_count`, `2023_deezer_playlist_count`, `2024_spotify_streams`, `2024_spotify_playlist_count`,    
`2024_apple_music_playlist_count`, `2024_deezer_playlist_count`, everything()     
  ) |&gt; 
    pivot_longer(
    cols = c(`2023_spotify_streams`,  `2023_spotify_playlist_count`, `2023_apple_music_playlist_count`, `2023_deezer_playlist_count`, `2024_spotify_streams`, `2024_spotify_playlist_count`,    
`2024_apple_music_playlist_count`, `2024_deezer_playlist_count`, `2024_tik_tok_posts`,             `2024_tik_tok_likes`, `2024_tik_tok_views`),
    names_to = c(&quot;year&quot;, &quot;metric&quot;),                 
    names_pattern = &quot;(\\d{4})_(.*)&quot;,    
   values_to = &quot;value&quot;  
  )</code></pre>
</div>
<div id="data-cleaning-and-merging" class="section level3">
<h3>Data Cleaning and Merging</h3>
<p>Prior to merging the datasets, in the 2023 dataset, we renamed
<code>track_name</code> to <code>track</code>, <code>streams</code> to
<code>2023_spotify_streams</code>, <code>in_spotify_playlists</code> to
<code>2023_spotify_playlist_count</code>,
<code>in_apple_playlists</code> to
<code>2023_apple_music_playlist_count</code>,
and<code>in_deezer_playlists</code> to
<code>2023_deezer_playlist_count</code>. In the 2024 dataset, we
separated <code>release_date</code> into <code>released_year</code>,
<code>released_month</code>, <code>released_day</code>, changed
<code>spotify_streams</code> to <code>2024_spotify_streams</code>,
<code>spotify_playlist_count</code> to
<code>2024_spotify_playlist_count</code>,
<code>apple_music_playlist_count</code> to
<code>2024_apple_music_playlist_count</code>, and
<code>deezer_playlist_count</code> to
<code>2024_deezer_playlist_count</code>. Variables that were removed
from the 2023 dataset prior to merging include the following:
<code>artist_count</code>, <code>in_spotify_charts</code>,
<code>in_apple_charts</code>, <code>in_deezer_charts</code>,
<code>in_shazam_charts</code>, and <code>instrumentalness</code>.
Variables that were removed from the 2024 dataset prior to merging
include the following: <code>album_name</code>, <code>isrc</code>,
<code>all_time_rank</code>, <code>track_score</code>,
<code>spotify_playlist_reach</code>, <code>spotify_popularity</code>,
<code>you_tube_views</code>, <code>you_tube_likes</code>,
<code>air_play_spins</code>, <code>sirius_xm_spins</code>,
<code>deezer_playlist_reach</code>, <code>amazon_playlist_count</code>,
<code>pandora_streams</code>, and
<code>pandora_track_stations</code>.</p>
<p>Datasets were merged based on <code>track</code>,
<code>released_year</code>, <code>released_month</code>, and
<code>released_day</code>. The <code>artist</code> variable for the 2023
was kept because the 2023 dataset includes the artists that are featured
on the track as well.</p>
<p>When merging the datasets (through inner_join), we found that there
were 17 duplicate songs where the duplicates all contain information for
both 2023 and 2024 Spotify streams, Spotify playlist count, and Apple
Music playlist count. Some duplicates, however, have varying missing
information about 2024 Deezer playlist count and/or TikTok data. Some
other notable discrepancies we found among the 17 tracks where the
following: - “Daylight” and “Numb” are duplicate track names but are
from different artists - “My Universe” has limited information in both
duplicates - “SNAP” has two duplicates (4 total) - “SPIT IN MY FACE” is
a duplicate but they are in different keys/have different song details
(e.g., danceability, valence, etc.)</p>
<p>The merged 2023/2024 dataset (spotify_df) includes the following 25
variables:</p>
<ul>
<li><code>track</code>: Name of the song.</li>
<li><code>artist</code>: Name of the artist(s) of the song.</li>
<li><code>released_year</code>: Year the song was released.</li>
<li><code>released_month</code>: Month the song was released.</li>
<li><code>released_day</code>: Day of the month the song was
released.</li>
<li><code>2024_spotify_streams</code>: Total number of streams on
Spotify in 2024.</li>
<li><code>2024_spotify_playlist_count</code>: Number of Spotify
playlists the song is included in in 2024.</li>
<li><code>2024_apple_music_playlist_count</code>: Number of Apple Music
playlists the song is included in in 2024.</li>
<li><code>2024_deezer_playlist_count</code>: Number of Deezer playlists
the song is included in in 2024.</li>
<li><code>2023_spotify_streams</code>: Total number of streams on
Spotify in 2023.</li>
<li><code>2023_spotify_playlist_count</code>: Number of Spotify
playlists the song is included in in 2023.</li>
<li><code>2023_apple_music_playlist_count</code>: Number of Apple Music
playlists the song is included in in 2023.</li>
<li><code>2023_deezer_playlist_count</code>: Number of Deezer playlists
the song is included in in 2023.</li>
<li><code>2024_tik_tok_posts</code>: Number of TikTok posts featuring
the song in 2024.</li>
<li><code>2024_tik_tok_likes</code>: Total likes on TikTok posts
featuring the song in 2024.</li>
<li><code>2024_tik_tok_views</code>: Total views on TikTok posts
featuring the song in 2024.</li>
<li><code>bpm</code>: Beats per minute, a measure of song tempo.</li>
<li><code>key</code>: Key of the song.</li>
<li><code>mode</code>: Mode of the song (major or minor).</li>
<li><code>danceability</code>: Percentage indicating how suitable the
song is for dancing.</li>
<li><code>valence</code>: Positivity of the song’s musical content.</li>
<li><code>energy</code>: Perceived energy level of the song.</li>
<li><code>acousticness</code>: Amount of acoustic sound in the
song.</li>
<li><code>liveness</code>: Presence of live performance elements.</li>
<li><code>speechiness</code>: Amount of spoken words in the song.</li>
</ul>
<p>The merged 2023/2024 longer dataset (spotify_longer_df) includes the
following variables:</p>
<ul>
<li><code>track</code>: Name of the song.</li>
<li><code>artist</code>: Name of the artist(s) of the song.</li>
<li><code>released_year</code>: Year the song was released.</li>
<li><code>released_month</code>: Month the song was released.</li>
<li><code>released_day</code>: Day of the month the song was
released.</li>
<li><code>year</code>: year (2023 or 2024) corresponding to the listed
<code>metric</code> variable</li>
<li><code>metric</code>: spotify_streams, spotify_playlist_count,
apple_music_playlist_count, or deezer_playlist_count</li>
<li><code>value</code>: numeric value of the <code>metric</code>
variable listed</li>
<li><code>bpm</code>: Beats per minute, a measure of song tempo.</li>
<li><code>key</code>: Key of the song.</li>
<li><code>mode</code>: Mode of the song (major or minor).</li>
<li><code>danceability</code>: Percentage indicating how suitable the
song is for dancing.</li>
<li><code>valence</code>: Positivity of the song’s musical content.</li>
<li><code>energy</code>: Perceived energy level of the song.</li>
<li><code>acousticness</code>: Amount of acoustic sound in the
song.</li>
<li><code>liveness</code>: Presence of live performance elements.</li>
<li><code>speechiness</code>: Amount of spoken words in the song.</li>
</ul>
</div>
<div id="summary-data" class="section level3">
<h3>Summary Data</h3>
<p><em>Top 10 Songs by Spotify Streams</em></p>
<pre class="r"><code>top10streams_df &lt;- spotify_df |&gt; 
  mutate(total_streams = `2023_spotify_streams` + `2024_spotify_streams`) |&gt; 
  distinct(track, artist, .keep_all = TRUE) |&gt; 
  arrange(desc(total_streams)) |&gt; 
  slice_head(n = 10)

table_top10streams &lt;- top10streams_df |&gt; 
  select(track, artist, total_streams) |&gt; 
  gt() |&gt; 
  tab_header(
    title = &quot;Top 10 Streamed Songs on Spotify (2023 &amp; 2024)&quot;
  ) |&gt; 
  fmt_number(
    columns = total_streams,
    decimals = 0
  ) |&gt; 
  cols_label(
    track = &quot;Song Title&quot;,
    artist = &quot;Artist&quot;,
    total_streams = &quot;Streams&quot;
  )

table_top10streams</code></pre>
<div id="ndwuvhiyfv" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#ndwuvhiyfv table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#ndwuvhiyfv thead, #ndwuvhiyfv tbody, #ndwuvhiyfv tfoot, #ndwuvhiyfv tr, #ndwuvhiyfv td, #ndwuvhiyfv th {
  border-style: none;
}

#ndwuvhiyfv p {
  margin: 0;
  padding: 0;
}

#ndwuvhiyfv .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#ndwuvhiyfv .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#ndwuvhiyfv .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#ndwuvhiyfv .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#ndwuvhiyfv .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ndwuvhiyfv .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ndwuvhiyfv .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ndwuvhiyfv .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#ndwuvhiyfv .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#ndwuvhiyfv .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#ndwuvhiyfv .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#ndwuvhiyfv .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#ndwuvhiyfv .gt_spanner_row {
  border-bottom-style: hidden;
}

#ndwuvhiyfv .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#ndwuvhiyfv .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#ndwuvhiyfv .gt_from_md > :first-child {
  margin-top: 0;
}

#ndwuvhiyfv .gt_from_md > :last-child {
  margin-bottom: 0;
}

#ndwuvhiyfv .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#ndwuvhiyfv .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#ndwuvhiyfv .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#ndwuvhiyfv .gt_row_group_first td {
  border-top-width: 2px;
}

#ndwuvhiyfv .gt_row_group_first th {
  border-top-width: 2px;
}

#ndwuvhiyfv .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#ndwuvhiyfv .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#ndwuvhiyfv .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#ndwuvhiyfv .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ndwuvhiyfv .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#ndwuvhiyfv .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#ndwuvhiyfv .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#ndwuvhiyfv .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#ndwuvhiyfv .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ndwuvhiyfv .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ndwuvhiyfv .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#ndwuvhiyfv .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ndwuvhiyfv .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#ndwuvhiyfv .gt_left {
  text-align: left;
}

#ndwuvhiyfv .gt_center {
  text-align: center;
}

#ndwuvhiyfv .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#ndwuvhiyfv .gt_font_normal {
  font-weight: normal;
}

#ndwuvhiyfv .gt_font_bold {
  font-weight: bold;
}

#ndwuvhiyfv .gt_font_italic {
  font-style: italic;
}

#ndwuvhiyfv .gt_super {
  font-size: 65%;
}

#ndwuvhiyfv .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#ndwuvhiyfv .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#ndwuvhiyfv .gt_indent_1 {
  text-indent: 5px;
}

#ndwuvhiyfv .gt_indent_2 {
  text-indent: 10px;
}

#ndwuvhiyfv .gt_indent_3 {
  text-indent: 15px;
}

#ndwuvhiyfv .gt_indent_4 {
  text-indent: 20px;
}

#ndwuvhiyfv .gt_indent_5 {
  text-indent: 25px;
}

#ndwuvhiyfv .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#ndwuvhiyfv div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <thead>
    <tr class="gt_heading">
      <td colspan="3" class="gt_heading gt_title gt_font_normal gt_bottom_border" style>Top 10 Streamed Songs on Spotify (2023 &amp; 2024)</td>
    </tr>
    
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="track">Song Title</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="artist">Artist</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="total_streams">Streams</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="track" class="gt_row gt_left">Blinding Lights</td>
<td headers="artist" class="gt_row gt_left">The Weeknd</td>
<td headers="total_streams" class="gt_row gt_right">7,985,363,794</td></tr>
    <tr><td headers="track" class="gt_row gt_left">Shape of You</td>
<td headers="artist" class="gt_row gt_left">Ed Sheeran</td>
<td headers="total_streams" class="gt_row gt_right">7,472,002,624</td></tr>
    <tr><td headers="track" class="gt_row gt_left">Someone You Loved</td>
<td headers="artist" class="gt_row gt_left">Lewis Capaldi</td>
<td headers="total_streams" class="gt_row gt_right">6,314,740,649</td></tr>
    <tr><td headers="track" class="gt_row gt_left">Dance Monkey</td>
<td headers="artist" class="gt_row gt_left">Tones and I</td>
<td headers="total_streams" class="gt_row gt_right">5,936,005,778</td></tr>
    <tr><td headers="track" class="gt_row gt_left">One Dance</td>
<td headers="artist" class="gt_row gt_left">Drake, WizKid, Kyla</td>
<td headers="total_streams" class="gt_row gt_right">5,906,126,416</td></tr>
    <tr><td headers="track" class="gt_row gt_left">As It Was</td>
<td headers="artist" class="gt_row gt_left">Harry Styles</td>
<td headers="total_streams" class="gt_row gt_right">5,815,003,028</td></tr>
    <tr><td headers="track" class="gt_row gt_left">STAY (with Justin Bieber)</td>
<td headers="artist" class="gt_row gt_left">Justin Bieber, The Kid Laroi</td>
<td headers="total_streams" class="gt_row gt_right">5,772,444,271</td></tr>
    <tr><td headers="track" class="gt_row gt_left">Believer</td>
<td headers="artist" class="gt_row gt_left">Imagine Dragons</td>
<td headers="total_streams" class="gt_row gt_right">5,600,266,895</td></tr>
    <tr><td headers="track" class="gt_row gt_left">Say You Won't Let Go</td>
<td headers="artist" class="gt_row gt_left">James Arthur</td>
<td headers="total_streams" class="gt_row gt_right">5,251,424,007</td></tr>
    <tr><td headers="track" class="gt_row gt_left">Watermelon Sugar</td>
<td headers="artist" class="gt_row gt_left">Harry Styles</td>
<td headers="total_streams" class="gt_row gt_right">5,030,731,621</td></tr>
  </tbody>
  
  
</table>
</div>
<p>It is important to note that this table shows the top 10 streamed
songs on Spotify across 2023 and 2024, but only includes songs that were
present in both datasets. Therefore, songs released in 2024 are not
included in this summary.</p>
<p><em>Top 10 Songs by Presence on Playlists</em></p>
<pre class="r"><code>playlists_df &lt;- spotify_df |&gt; 
  mutate(total_playlists = 
           `2023_spotify_playlist_count` + `2024_spotify_playlist_count` +
           `2023_apple_music_playlist_count` + `2024_apple_music_playlist_count` +
           `2023_deezer_playlist_count` + `2024_deezer_playlist_count`) |&gt; 
  distinct(track, artist, .keep_all = TRUE) |&gt; 
  arrange(desc(total_playlists)) |&gt; 
  slice_head(n = 10)

table_top10playlist &lt;- playlists_df |&gt; 
  select(track, artist, total_playlists) |&gt; 
  gt() |&gt; 
  tab_header(
    title = &quot;Top 10 Songs by Total Playlist Count (2023 &amp; 2024)&quot;
  ) |&gt; 
  fmt_number(
    columns = total_playlists,
    decimals = 0
  ) |&gt; 
  cols_label(
    track = &quot;Song Title&quot;,
    artist = &quot;Artist&quot;,
    total_playlists = &quot;Total Playlists&quot;
  )

table_top10playlist</code></pre>
<div id="vgtdpmgwpb" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#vgtdpmgwpb table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#vgtdpmgwpb thead, #vgtdpmgwpb tbody, #vgtdpmgwpb tfoot, #vgtdpmgwpb tr, #vgtdpmgwpb td, #vgtdpmgwpb th {
  border-style: none;
}

#vgtdpmgwpb p {
  margin: 0;
  padding: 0;
}

#vgtdpmgwpb .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#vgtdpmgwpb .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#vgtdpmgwpb .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#vgtdpmgwpb .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#vgtdpmgwpb .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#vgtdpmgwpb .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#vgtdpmgwpb .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#vgtdpmgwpb .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#vgtdpmgwpb .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#vgtdpmgwpb .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#vgtdpmgwpb .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#vgtdpmgwpb .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#vgtdpmgwpb .gt_spanner_row {
  border-bottom-style: hidden;
}

#vgtdpmgwpb .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#vgtdpmgwpb .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#vgtdpmgwpb .gt_from_md > :first-child {
  margin-top: 0;
}

#vgtdpmgwpb .gt_from_md > :last-child {
  margin-bottom: 0;
}

#vgtdpmgwpb .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#vgtdpmgwpb .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#vgtdpmgwpb .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#vgtdpmgwpb .gt_row_group_first td {
  border-top-width: 2px;
}

#vgtdpmgwpb .gt_row_group_first th {
  border-top-width: 2px;
}

#vgtdpmgwpb .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#vgtdpmgwpb .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#vgtdpmgwpb .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#vgtdpmgwpb .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#vgtdpmgwpb .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#vgtdpmgwpb .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#vgtdpmgwpb .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#vgtdpmgwpb .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#vgtdpmgwpb .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#vgtdpmgwpb .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#vgtdpmgwpb .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#vgtdpmgwpb .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#vgtdpmgwpb .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#vgtdpmgwpb .gt_left {
  text-align: left;
}

#vgtdpmgwpb .gt_center {
  text-align: center;
}

#vgtdpmgwpb .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#vgtdpmgwpb .gt_font_normal {
  font-weight: normal;
}

#vgtdpmgwpb .gt_font_bold {
  font-weight: bold;
}

#vgtdpmgwpb .gt_font_italic {
  font-style: italic;
}

#vgtdpmgwpb .gt_super {
  font-size: 65%;
}

#vgtdpmgwpb .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#vgtdpmgwpb .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#vgtdpmgwpb .gt_indent_1 {
  text-indent: 5px;
}

#vgtdpmgwpb .gt_indent_2 {
  text-indent: 10px;
}

#vgtdpmgwpb .gt_indent_3 {
  text-indent: 15px;
}

#vgtdpmgwpb .gt_indent_4 {
  text-indent: 20px;
}

#vgtdpmgwpb .gt_indent_5 {
  text-indent: 25px;
}

#vgtdpmgwpb .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#vgtdpmgwpb div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <thead>
    <tr class="gt_heading">
      <td colspan="3" class="gt_heading gt_title gt_font_normal gt_bottom_border" style>Top 10 Songs by Total Playlist Count (2023 &amp; 2024)</td>
    </tr>
    
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="track">Song Title</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="artist">Artist</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="total_playlists">Total Playlists</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="track" class="gt_row gt_left">Blinding Lights</td>
<td headers="artist" class="gt_row gt_left">The Weeknd</td>
<td headers="total_playlists" class="gt_row gt_right">639,807</td></tr>
    <tr><td headers="track" class="gt_row gt_left">STAY (with Justin Bieber)</td>
<td headers="artist" class="gt_row gt_left">Justin Bieber, The Kid Laroi</td>
<td headers="total_playlists" class="gt_row gt_right">470,751</td></tr>
    <tr><td headers="track" class="gt_row gt_left">As It Was</td>
<td headers="artist" class="gt_row gt_left">Harry Styles</td>
<td headers="total_playlists" class="gt_row gt_right">432,745</td></tr>
    <tr><td headers="track" class="gt_row gt_left">One Dance</td>
<td headers="artist" class="gt_row gt_left">Drake, WizKid, Kyla</td>
<td headers="total_playlists" class="gt_row gt_right">427,889</td></tr>
    <tr><td headers="track" class="gt_row gt_left">No Role Modelz</td>
<td headers="artist" class="gt_row gt_left">J. Cole</td>
<td headers="total_playlists" class="gt_row gt_right">425,231</td></tr>
    <tr><td headers="track" class="gt_row gt_left">Without Me</td>
<td headers="artist" class="gt_row gt_left">Eminem</td>
<td headers="total_playlists" class="gt_row gt_right">422,497</td></tr>
    <tr><td headers="track" class="gt_row gt_left">Dance Monkey</td>
<td headers="artist" class="gt_row gt_left">Tones and I</td>
<td headers="total_playlists" class="gt_row gt_right">404,991</td></tr>
    <tr><td headers="track" class="gt_row gt_left">Somebody That I Used To Know</td>
<td headers="artist" class="gt_row gt_left">Gotye, Kimbra</td>
<td headers="total_playlists" class="gt_row gt_right">402,673</td></tr>
    <tr><td headers="track" class="gt_row gt_left">Do I Wanna Know?</td>
<td headers="artist" class="gt_row gt_left">Arctic Monkeys</td>
<td headers="total_playlists" class="gt_row gt_right">398,728</td></tr>
    <tr><td headers="track" class="gt_row gt_left">Money Trees</td>
<td headers="artist" class="gt_row gt_left">Kendrick Lamar, Jay Rock</td>
<td headers="total_playlists" class="gt_row gt_right">379,903</td></tr>
  </tbody>
  
  
</table>
</div>
<p>The total number of playlists that each song is present on includes
counts from Spotify, Apple Music, and Deezer. The same limitations apply
as discussed in the previous table.</p>
<p><em>Top 10 Songs by TikTok Engagement</em></p>
<pre class="r"><code>top10tiktok &lt;- spotify_df |&gt; 
  mutate(tiktok_engagement = 
           `2024_tik_tok_posts` + `2024_tik_tok_likes` + `2024_tik_tok_views`) |&gt; 
  distinct(track, artist, .keep_all = TRUE) |&gt; 
  arrange(desc(tiktok_engagement)) |&gt; 
  slice_head(n = 10)

table_top10tiktok &lt;- top10tiktok |&gt; 
  select(track, artist, tiktok_engagement) |&gt; 
  gt() |&gt; 
  tab_header(
    title = &quot;Top 10 Songs by TikTok Engagement (2024)&quot;
  ) |&gt; 
  fmt_number(
    columns = tiktok_engagement,
    decimals = 0
  ) |&gt; 
  cols_label(
    track = &quot;Song Title&quot;,
    artist = &quot;Artist&quot;,
    tiktok_engagement = &quot;TikTok Engagement&quot;
  )

table_top10tiktok</code></pre>
<div id="eoqmrxhkpy" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#eoqmrxhkpy table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#eoqmrxhkpy thead, #eoqmrxhkpy tbody, #eoqmrxhkpy tfoot, #eoqmrxhkpy tr, #eoqmrxhkpy td, #eoqmrxhkpy th {
  border-style: none;
}

#eoqmrxhkpy p {
  margin: 0;
  padding: 0;
}

#eoqmrxhkpy .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#eoqmrxhkpy .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#eoqmrxhkpy .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#eoqmrxhkpy .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#eoqmrxhkpy .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#eoqmrxhkpy .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#eoqmrxhkpy .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#eoqmrxhkpy .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#eoqmrxhkpy .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#eoqmrxhkpy .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#eoqmrxhkpy .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#eoqmrxhkpy .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#eoqmrxhkpy .gt_spanner_row {
  border-bottom-style: hidden;
}

#eoqmrxhkpy .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#eoqmrxhkpy .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#eoqmrxhkpy .gt_from_md > :first-child {
  margin-top: 0;
}

#eoqmrxhkpy .gt_from_md > :last-child {
  margin-bottom: 0;
}

#eoqmrxhkpy .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#eoqmrxhkpy .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#eoqmrxhkpy .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#eoqmrxhkpy .gt_row_group_first td {
  border-top-width: 2px;
}

#eoqmrxhkpy .gt_row_group_first th {
  border-top-width: 2px;
}

#eoqmrxhkpy .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#eoqmrxhkpy .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#eoqmrxhkpy .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#eoqmrxhkpy .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#eoqmrxhkpy .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#eoqmrxhkpy .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#eoqmrxhkpy .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#eoqmrxhkpy .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#eoqmrxhkpy .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#eoqmrxhkpy .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#eoqmrxhkpy .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#eoqmrxhkpy .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#eoqmrxhkpy .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#eoqmrxhkpy .gt_left {
  text-align: left;
}

#eoqmrxhkpy .gt_center {
  text-align: center;
}

#eoqmrxhkpy .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#eoqmrxhkpy .gt_font_normal {
  font-weight: normal;
}

#eoqmrxhkpy .gt_font_bold {
  font-weight: bold;
}

#eoqmrxhkpy .gt_font_italic {
  font-style: italic;
}

#eoqmrxhkpy .gt_super {
  font-size: 65%;
}

#eoqmrxhkpy .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#eoqmrxhkpy .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#eoqmrxhkpy .gt_indent_1 {
  text-indent: 5px;
}

#eoqmrxhkpy .gt_indent_2 {
  text-indent: 10px;
}

#eoqmrxhkpy .gt_indent_3 {
  text-indent: 15px;
}

#eoqmrxhkpy .gt_indent_4 {
  text-indent: 20px;
}

#eoqmrxhkpy .gt_indent_5 {
  text-indent: 25px;
}

#eoqmrxhkpy .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#eoqmrxhkpy div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <thead>
    <tr class="gt_heading">
      <td colspan="3" class="gt_heading gt_title gt_font_normal gt_bottom_border" style>Top 10 Songs by TikTok Engagement (2024)</td>
    </tr>
    
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="track">Song Title</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="artist">Artist</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="tiktok_engagement">TikTok Engagement</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="track" class="gt_row gt_left">STAY (with Justin Bieber)</td>
<td headers="artist" class="gt_row gt_left">Justin Bieber, The Kid Laroi</td>
<td headers="tiktok_engagement" class="gt_row gt_right">25,966,854,331</td></tr>
    <tr><td headers="track" class="gt_row gt_left">Infinity</td>
<td headers="artist" class="gt_row gt_left">Jaymes Young</td>
<td headers="tiktok_engagement" class="gt_row gt_right">24,135,823,701</td></tr>
    <tr><td headers="track" class="gt_row gt_left">As It Was</td>
<td headers="artist" class="gt_row gt_left">Harry Styles</td>
<td headers="tiktok_engagement" class="gt_row gt_right">17,042,608,363</td></tr>
    <tr><td headers="track" class="gt_row gt_left">Made You Look</td>
<td headers="artist" class="gt_row gt_left">Meghan Trainor</td>
<td headers="tiktok_engagement" class="gt_row gt_right">16,504,267,384</td></tr>
    <tr><td headers="track" class="gt_row gt_left">Unstoppable</td>
<td headers="artist" class="gt_row gt_left">Sia</td>
<td headers="tiktok_engagement" class="gt_row gt_right">15,736,625,751</td></tr>
    <tr><td headers="track" class="gt_row gt_left">Flowers</td>
<td headers="artist" class="gt_row gt_left">Miley Cyrus</td>
<td headers="tiktok_engagement" class="gt_row gt_right">15,689,673,773</td></tr>
    <tr><td headers="track" class="gt_row gt_left">MONEY</td>
<td headers="artist" class="gt_row gt_left">Lisa</td>
<td headers="tiktok_engagement" class="gt_row gt_right">13,813,150,345</td></tr>
    <tr><td headers="track" class="gt_row gt_left">Life Goes On</td>
<td headers="artist" class="gt_row gt_left">Oliver Tree</td>
<td headers="tiktok_engagement" class="gt_row gt_right">13,068,701,929</td></tr>
    <tr><td headers="track" class="gt_row gt_left">Shakira: Bzrp Music Sessions, Vol. 53</td>
<td headers="artist" class="gt_row gt_left">Shakira, Bizarrap</td>
<td headers="tiktok_engagement" class="gt_row gt_right">12,737,629,641</td></tr>
    <tr><td headers="track" class="gt_row gt_left">Forever</td>
<td headers="artist" class="gt_row gt_left">Labrinth</td>
<td headers="tiktok_engagement" class="gt_row gt_right">12,247,374,075</td></tr>
  </tbody>
  
  
</table>
</div>
<p>TikTok engagement was summarized by adding total views, likes, and
posts. Data was collected from 2024, but the table only shows songs
released before 2024.</p>
<p><em>Number of Top Songs By Release Year</em></p>
<pre class="r"><code>songs_by_year &lt;- spotify_df |&gt; 
  count(released_year, name = &quot;song_count&quot;) |&gt; 
  arrange(desc(released_year))

table_songs_by_year &lt;- songs_by_year |&gt; 
  gt() |&gt; 
  tab_header(
    title = &quot;Count of Songs by Release Year&quot;
  ) |&gt; 
  fmt_number(
    columns = song_count,
    decimals = 0
  ) |&gt; 
  cols_label(
    released_year = &quot;Release Year&quot;,
    song_count = &quot;Number of Songs&quot;
  )

table_songs_by_year</code></pre>
<div id="orgxptnzye" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#orgxptnzye table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#orgxptnzye thead, #orgxptnzye tbody, #orgxptnzye tfoot, #orgxptnzye tr, #orgxptnzye td, #orgxptnzye th {
  border-style: none;
}

#orgxptnzye p {
  margin: 0;
  padding: 0;
}

#orgxptnzye .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#orgxptnzye .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#orgxptnzye .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#orgxptnzye .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#orgxptnzye .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#orgxptnzye .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#orgxptnzye .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#orgxptnzye .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#orgxptnzye .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#orgxptnzye .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#orgxptnzye .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#orgxptnzye .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#orgxptnzye .gt_spanner_row {
  border-bottom-style: hidden;
}

#orgxptnzye .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#orgxptnzye .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#orgxptnzye .gt_from_md > :first-child {
  margin-top: 0;
}

#orgxptnzye .gt_from_md > :last-child {
  margin-bottom: 0;
}

#orgxptnzye .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#orgxptnzye .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#orgxptnzye .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#orgxptnzye .gt_row_group_first td {
  border-top-width: 2px;
}

#orgxptnzye .gt_row_group_first th {
  border-top-width: 2px;
}

#orgxptnzye .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#orgxptnzye .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#orgxptnzye .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#orgxptnzye .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#orgxptnzye .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#orgxptnzye .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#orgxptnzye .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#orgxptnzye .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#orgxptnzye .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#orgxptnzye .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#orgxptnzye .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#orgxptnzye .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#orgxptnzye .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#orgxptnzye .gt_left {
  text-align: left;
}

#orgxptnzye .gt_center {
  text-align: center;
}

#orgxptnzye .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#orgxptnzye .gt_font_normal {
  font-weight: normal;
}

#orgxptnzye .gt_font_bold {
  font-weight: bold;
}

#orgxptnzye .gt_font_italic {
  font-style: italic;
}

#orgxptnzye .gt_super {
  font-size: 65%;
}

#orgxptnzye .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#orgxptnzye .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#orgxptnzye .gt_indent_1 {
  text-indent: 5px;
}

#orgxptnzye .gt_indent_2 {
  text-indent: 10px;
}

#orgxptnzye .gt_indent_3 {
  text-indent: 15px;
}

#orgxptnzye .gt_indent_4 {
  text-indent: 20px;
}

#orgxptnzye .gt_indent_5 {
  text-indent: 25px;
}

#orgxptnzye .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#orgxptnzye div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <thead>
    <tr class="gt_heading">
      <td colspan="2" class="gt_heading gt_title gt_font_normal gt_bottom_border" style>Count of Songs by Release Year</td>
    </tr>
    
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="released_year">Release Year</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="song_count">Number of Songs</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="released_year" class="gt_row gt_right">2023</td>
<td headers="song_count" class="gt_row gt_right">114</td></tr>
    <tr><td headers="released_year" class="gt_row gt_right">2022</td>
<td headers="song_count" class="gt_row gt_right">219</td></tr>
    <tr><td headers="released_year" class="gt_row gt_right">2021</td>
<td headers="song_count" class="gt_row gt_right">87</td></tr>
    <tr><td headers="released_year" class="gt_row gt_right">2020</td>
<td headers="song_count" class="gt_row gt_right">21</td></tr>
    <tr><td headers="released_year" class="gt_row gt_right">2019</td>
<td headers="song_count" class="gt_row gt_right">25</td></tr>
    <tr><td headers="released_year" class="gt_row gt_right">2018</td>
<td headers="song_count" class="gt_row gt_right">8</td></tr>
    <tr><td headers="released_year" class="gt_row gt_right">2017</td>
<td headers="song_count" class="gt_row gt_right">10</td></tr>
    <tr><td headers="released_year" class="gt_row gt_right">2016</td>
<td headers="song_count" class="gt_row gt_right">8</td></tr>
    <tr><td headers="released_year" class="gt_row gt_right">2015</td>
<td headers="song_count" class="gt_row gt_right">4</td></tr>
    <tr><td headers="released_year" class="gt_row gt_right">2014</td>
<td headers="song_count" class="gt_row gt_right">7</td></tr>
    <tr><td headers="released_year" class="gt_row gt_right">2013</td>
<td headers="song_count" class="gt_row gt_right">6</td></tr>
    <tr><td headers="released_year" class="gt_row gt_right">2012</td>
<td headers="song_count" class="gt_row gt_right">3</td></tr>
    <tr><td headers="released_year" class="gt_row gt_right">2011</td>
<td headers="song_count" class="gt_row gt_right">4</td></tr>
    <tr><td headers="released_year" class="gt_row gt_right">2010</td>
<td headers="song_count" class="gt_row gt_right">2</td></tr>
    <tr><td headers="released_year" class="gt_row gt_right">2008</td>
<td headers="song_count" class="gt_row gt_right">1</td></tr>
    <tr><td headers="released_year" class="gt_row gt_right">2003</td>
<td headers="song_count" class="gt_row gt_right">1</td></tr>
    <tr><td headers="released_year" class="gt_row gt_right">2002</td>
<td headers="song_count" class="gt_row gt_right">3</td></tr>
    <tr><td headers="released_year" class="gt_row gt_right">2000</td>
<td headers="song_count" class="gt_row gt_right">1</td></tr>
  </tbody>
  
  
</table>
</div>
<p>An alternative way of displaying this can be via histogram:</p>
<pre class="r"><code>ggplot(songs_by_year, aes(x = released_year, y = song_count)) +
  geom_bar(stat = &quot;identity&quot;, fill = &quot;steelblue&quot;, alpha = 0.8) +
  labs(
    title = &quot;Number of Songs by Release Year&quot;,
    x = &quot;Release Year&quot;,
    y = &quot;Number of Songs&quot;
  ) +
  theme_minimal() +
  theme(
    axis.text.x = element_text(angle = 45, hjust = 1)  # Rotate x-axis labels for better readability
  )</code></pre>
<p><img src="2023_2024_analysis_files/figure-html/histogram%20of%20song%20release%20by%20year-1.png" width="672" />
This table shows that all top songs consistent across our 2023 and 2023
datasets were released in the year 2000 or later. 2021-2023 show the
highest number of top songs, the greatest being in 2022. This may
indicate that most songs reach their max popularity when they have had a
few years to gain attention and recurring listeners.</p>
</div>
<div id="visualizations-and-analysis" class="section level3">
<h3>Visualizations and Analysis</h3>
<p><em>Distribution of BPM by Song Count</em></p>
<pre class="r"><code>bpm_histogram &lt;- ggplot(spotify_df, aes(x = bpm)) +
  geom_histogram(stat = &quot;count&quot;, binwidth = 5, aes(fill = ..count..), color = &quot;black&quot;, alpha = 0.7) +
  scale_fill_viridis_c(option = &quot;plasma&quot;, end = 0.9) +
  scale_y_continuous(labels = scales::comma) + 
  labs(
    title = &quot;Histogram of BPM by Song Count&quot;,
    subtitle = &quot;Distribution of BPM values across songs in the dataset&quot;,
    x = &quot;Beats Per Minute (BPM)&quot;,
    y = &quot;Song Count&quot;
  ) +
  theme_minimal(base_size = 15) +
  theme(
    plot.title = element_text(face = &quot;bold&quot;, size = 18, hjust = 0.5),
    plot.subtitle = element_text(size = 14, hjust = 0.5),
    axis.text = element_text(size = 12),
    axis.title = element_text(size = 14)
  )

interactive_bpm_histogram &lt;- ggplotly(bpm_histogram)

interactive_bpm_histogram</code></pre>
<div class="plotly html-widget html-fill-item" id="htmlwidget-91130f131e0b704cc7b0" style="width:672px;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-91130f131e0b704cc7b0">{"x":{"data":[{"orientation":"v","width":[0.90000000000000568,0.90000000000000568,0.90000000000000568,0.90000000000000568,0.90000000000000568,0.90000000000000568,0.90000000000000568,0.89999999999997726,0.89999999999997726,0.89999999999997726,0.89999999999997726,0.89999999999997726,0.89999999999997726,0.89999999999997726,0.89999999999997726,0.89999999999997726,0.89999999999997726,0.89999999999997726,0.89999999999997726,0.89999999999997726,0.89999999999997726,0.89999999999997726],"base":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"x":[65,73,75,76,91,111,113,147,152,153,155,157,163,175,177,181,182,184,188,192,196,202],"y":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],"text":["count:  1<br />bpm:  65<br />count:  1","count:  1<br />bpm:  73<br />count:  1","count:  1<br />bpm:  75<br />count:  1","count:  1<br />bpm:  76<br />count:  1","count:  1<br />bpm:  91<br />count:  1","count:  1<br />bpm: 111<br />count:  1","count:  1<br />bpm: 113<br />count:  1","count:  1<br />bpm: 147<br />count:  1","count:  1<br />bpm: 152<br />count:  1","count:  1<br />bpm: 153<br />count:  1","count:  1<br />bpm: 155<br />count:  1","count:  1<br />bpm: 157<br />count:  1","count:  1<br />bpm: 163<br />count:  1","count:  1<br />bpm: 175<br />count:  1","count:  1<br />bpm: 177<br />count:  1","count:  1<br />bpm: 181<br />count:  1","count:  1<br />bpm: 182<br />count:  1","count:  1<br />bpm: 184<br />count:  1","count:  1<br />bpm: 188<br />count:  1","count:  1<br />bpm: 192<br />count:  1","count:  1<br />bpm: 196<br />count:  1","count:  1<br />bpm: 202<br />count:  1"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(13,8,135,0.7)","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.90000000000000568,0.90000000000000568,0.90000000000000568,0.90000000000000568,0.90000000000000568,0.90000000000000568,0.90000000000000568,0.90000000000000568,0.89999999999997726,0.89999999999997726,0.89999999999997726,0.89999999999997726,0.89999999999997726,0.89999999999997726,0.89999999999997726,0.89999999999997726,0.89999999999997726],"base":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"x":[72,79,83,84,106,117,121,127,149,158,161,162,169,171,173,178,204],"y":[2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2],"text":["count:  2<br />bpm:  72<br />count:  2","count:  2<br />bpm:  79<br />count:  2","count:  2<br />bpm:  83<br />count:  2","count:  2<br />bpm:  84<br />count:  2","count:  2<br />bpm: 106<br />count:  2","count:  2<br />bpm: 117<br />count:  2","count:  2<br />bpm: 121<br />count:  2","count:  2<br />bpm: 127<br />count:  2","count:  2<br />bpm: 149<br />count:  2","count:  2<br />bpm: 158<br />count:  2","count:  2<br />bpm: 161<br />count:  2","count:  2<br />bpm: 162<br />count:  2","count:  2<br />bpm: 169<br />count:  2","count:  2<br />bpm: 171<br />count:  2","count:  2<br />bpm: 173<br />count:  2","count:  2<br />bpm: 178<br />count:  2","count:  2<br />bpm: 204<br />count:  2"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(39,7,141,0.7)","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.90000000000000568,0.90000000000000568,0.90000000000000568,0.90000000000000568,0.90000000000000568,0.90000000000000568,0.90000000000000568,0.90000000000000568,0.89999999999997726,0.89999999999997726,0.89999999999997726,0.89999999999997726,0.89999999999997726,0.89999999999997726,0.89999999999997726,0.89999999999997726],"base":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"x":[87,89,99,112,115,119,123,126,129,131,139,141,154,164,168,176],"y":[3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3],"text":["count:  3<br />bpm:  87<br />count:  3","count:  3<br />bpm:  89<br />count:  3","count:  3<br />bpm:  99<br />count:  3","count:  3<br />bpm: 112<br />count:  3","count:  3<br />bpm: 115<br />count:  3","count:  3<br />bpm: 119<br />count:  3","count:  3<br />bpm: 123<br />count:  3","count:  3<br />bpm: 126<br />count:  3","count:  3<br />bpm: 129<br />count:  3","count:  3<br />bpm: 131<br />count:  3","count:  3<br />bpm: 139<br />count:  3","count:  3<br />bpm: 141<br />count:  3","count:  3<br />bpm: 154<br />count:  3","count:  3<br />bpm: 164<br />count:  3","count:  3<br />bpm: 168<br />count:  3","count:  3<br />bpm: 176<br />count:  3"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(57,6,148,0.7)","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.90000000000000568,0.90000000000000568,0.90000000000000568,0.90000000000000568,0.90000000000000568,0.90000000000000568,0.89999999999997726,0.89999999999997726,0.89999999999997726,0.89999999999997726,0.89999999999997726,0.89999999999997726],"base":[0,0,0,0,0,0,0,0,0,0,0,0],"x":[77,81,82,108,109,116,132,133,135,138,143,166],"y":[4,4,4,4,4,4,4,4,4,4,4,4],"text":["count:  4<br />bpm:  77<br />count:  4","count:  4<br />bpm:  81<br />count:  4","count:  4<br />bpm:  82<br />count:  4","count:  4<br />bpm: 108<br />count:  4","count:  4<br />bpm: 109<br />count:  4","count:  4<br />bpm: 116<br />count:  4","count:  4<br />bpm: 132<br />count:  4","count:  4<br />bpm: 133<br />count:  4","count:  4<br />bpm: 135<br />count:  4","count:  4<br />bpm: 138<br />count:  4","count:  4<br />bpm: 143<br />count:  4","count:  4<br />bpm: 166<br />count:  4"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(72,4,154,0.7)","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.90000000000000568,0.90000000000000568,0.90000000000000568,0.90000000000000568,0.90000000000000568,0.90000000000000568,0.89999999999997726,0.89999999999997726,0.89999999999997726,0.89999999999997726,0.89999999999997726,0.89999999999997726],"base":[0,0,0,0,0,0,0,0,0,0,0,0],"x":[80,95,97,102,103,114,134,136,137,145,172,174],"y":[5,5,5,5,5,5,5,5,5,5,5,5],"text":["count:  5<br />bpm:  80<br />count:  5","count:  5<br />bpm:  95<br />count:  5","count:  5<br />bpm:  97<br />count:  5","count:  5<br />bpm: 102<br />count:  5","count:  5<br />bpm: 103<br />count:  5","count:  5<br />bpm: 114<br />count:  5","count:  5<br />bpm: 134<br />count:  5","count:  5<br />bpm: 136<br />count:  5","count:  5<br />bpm: 137<br />count:  5","count:  5<br />bpm: 145<br />count:  5","count:  5<br />bpm: 172<br />count:  5","count:  5<br />bpm: 174<br />count:  5"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(86,2,161,0.7)","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.90000000000000568,0.90000000000000568,0.90000000000000568,0.89999999999997726,0.89999999999997726],"base":[0,0,0,0,0],"x":[78,93,101,142,146],"y":[6,6,6,6,6],"text":["count:  6<br />bpm:  78<br />count:  6","count:  6<br />bpm:  93<br />count:  6","count:  6<br />bpm: 101<br />count:  6","count:  6<br />bpm: 142<br />count:  6","count:  6<br />bpm: 146<br />count:  6"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(99,0,167,0.7)","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.90000000000000568,0.90000000000000568,0.90000000000000568,0.89999999999997726,0.89999999999997726],"base":[0,0,0,0,0],"x":[104,107,118,148,180],"y":[7,7,7,7,7],"text":["count:  7<br />bpm: 104<br />count:  7","count:  7<br />bpm: 107<br />count:  7","count:  7<br />bpm: 118<br />count:  7","count:  7<br />bpm: 148<br />count:  7","count:  7<br />bpm: 180<br />count:  7"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(114,5,164,0.7)","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.90000000000000568,0.90000000000000568,0.90000000000000568,0.89999999999997726],"base":[0,0,0,0],"x":[85,88,124,160],"y":[8,8,8,8],"text":["count:  8<br />bpm:  85<br />count:  8","count:  8<br />bpm:  88<br />count:  8","count:  8<br />bpm: 124<br />count:  8","count:  8<br />bpm: 160<br />count:  8"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(128,11,162,0.7)","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.90000000000000568,0.89999999999999147],"base":[0,0],"x":[105,128],"y":[9,9],"text":["count:  9<br />bpm: 105<br />count:  9","count:  9<br />bpm: 128<br />count:  9"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(141,18,159,0.7)","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.90000000000000568,0.89999999999997726],"base":[0,0],"x":[98,150],"y":[10,10],"text":["count: 10<br />bpm:  98<br />count: 10","count: 10<br />bpm: 150<br />count: 10"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(153,25,156,0.7)","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.90000000000000568,0.90000000000000568,0.90000000000000568,0.90000000000000568,0.90000000000000568,0.89999999999997726],"base":[0,0,0,0,0,0],"x":[90,92,94,96,110,144],"y":[11,11,11,11,11,11],"text":["count: 11<br />bpm:  90<br />count: 11","count: 11<br />bpm:  92<br />count: 11","count: 11<br />bpm:  94<br />count: 11","count: 11<br />bpm:  96<br />count: 11","count: 11<br />bpm: 110<br />count: 11","count: 11<br />bpm: 144<br />count: 11"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(165,31,153,0.7)","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.90000000000000568,0.90000000000000568],"base":[0,0],"x":[122,125],"y":[12,12],"text":["count: 12<br />bpm: 122<br />count: 12","count: 12<br />bpm: 125<br />count: 12"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(176,43,145,0.7)","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.90000000000000568,"base":0,"x":[100],"y":[13],"text":"count: 13<br />bpm: 100<br />count: 13","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(186,54,137,0.7)","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.89999999999997726,"base":0,"x":[170],"y":[15],"text":"count: 15<br />bpm: 170<br />count: 15","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(204,74,120,0.7)","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.89999999999997726,"base":0,"x":[140],"y":[16],"text":"count: 16<br />bpm: 140<br />count: 16","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(213,83,111,0.7)","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.89999999999997726,"base":0,"x":[130],"y":[17],"text":"count: 17<br />bpm: 130<br />count: 17","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(220,95,104,0.7)","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.90000000000000568,"base":0,"x":[120],"y":[26],"text":"count: 26<br />bpm: 120<br />count: 26","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(252,206,37,0.7)","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[100],"y":[0],"name":"add4ec9d734547cf15893efb7a42b89a","type":"scatter","mode":"markers","opacity":0,"hoverinfo":"skip","showlegend":false,"marker":{"color":[0,1],"colorscale":[[0,"#0D0887"],[0.0033444816053511683,"#100888"],[0.0066889632107023367,"#130888"],[0.010033444816053514,"#160889"],[0.013377926421404682,"#180889"],[0.016722408026755852,"#1A088A"],[0.020066889632107027,"#1D078A"],[0.023411371237458196,"#1F078B"],[0.026755852842809364,"#20078B"],[0.030100334448160532,"#22078C"],[0.033444816053511704,"#24078C"],[0.03678929765886288,"#26078D"],[0.040133779264214055,"#27078D"],[0.043478260869565216,"#29078E"],[0.046822742474916391,"#2B078E"],[0.050167224080267553,"#2C078F"],[0.053511705685618728,"#2E068F"],[0.056856187290969903,"#2F0690"],[0.060200668896321065,"#310691"],[0.06354515050167224,"#320691"],[0.066889632107023408,"#340692"],[0.070234113712374577,"#350692"],[0.073578595317725759,"#360693"],[0.076923076923076927,"#380693"],[0.080267558528428096,"#390694"],[0.083612040133779264,"#3A0594"],[0.086956521739130432,"#3C0595"],[0.090301003344481601,"#3D0595"],[0.093645484949832783,"#3E0596"],[0.096989966555183937,"#3F0596"],[0.10033444816053512,"#410597"],[0.10367892976588627,"#420597"],[0.10702341137123746,"#430598"],[0.11036789297658864,"#440499"],[0.11371237458193979,"#460499"],[0.11705685618729098,"#47049A"],[0.12040133779264213,"#48049A"],[0.12374581939799331,"#49049B"],[0.12709030100334448,"#4A049B"],[0.13043478260869562,"#4C049C"],[0.13377926421404682,"#4D039C"],[0.13712374581939799,"#4E039D"],[0.14046822742474915,"#4F039D"],[0.14381270903010035,"#50039E"],[0.14715719063545152,"#51039E"],[0.15050167224080269,"#53039F"],[0.15384615384615385,"#5402A0"],[0.15719063545150502,"#5502A0"],[0.16053511705685619,"#5602A1"],[0.16387959866220736,"#5702A1"],[0.16722408026755853,"#5802A2"],[0.1705685618729097,"#5902A2"],[0.17391304347826086,"#5A01A3"],[0.17725752508361203,"#5C01A3"],[0.1806020066889632,"#5D01A4"],[0.1839464882943144,"#5E01A4"],[0.18729096989966557,"#5F01A5"],[0.19063545150501671,"#6001A5"],[0.19397993311036787,"#6100A6"],[0.19732441471571907,"#6200A7"],[0.20066889632107024,"#6300A7"],[0.20401337792642141,"#6500A7"],[0.20735785953177255,"#6601A6"],[0.21070234113712374,"#6701A6"],[0.21404682274247491,"#6901A6"],[0.21739130434782608,"#6A02A6"],[0.22073578595317728,"#6B02A6"],[0.22408026755852842,"#6C03A5"],[0.22742474916387959,"#6E03A5"],[0.23076923076923075,"#6F03A5"],[0.23411371237458195,"#7004A5"],[0.23745819397993312,"#7104A4"],[0.24080267558528426,"#7305A4"],[0.24414715719063543,"#7405A4"],[0.24749163879598662,"#7506A4"],[0.25083612040133779,"#7606A4"],[0.25418060200668896,"#7707A3"],[0.25752508361204013,"#7907A3"],[0.2608695652173913,"#7A08A3"],[0.26421404682274247,"#7B09A3"],[0.26755852842809363,"#7C09A2"],[0.2709030100334448,"#7D0AA2"],[0.27424749163879603,"#7E0AA2"],[0.27759197324414714,"#7F0BA2"],[0.28093645484949831,"#800CA1"],[0.28428093645484948,"#820CA1"],[0.2876254180602007,"#830DA1"],[0.29096989966555187,"#840DA1"],[0.29431438127090304,"#850EA1"],[0.2976588628762542,"#860FA0"],[0.30100334448160537,"#870FA0"],[0.30434782608695654,"#8810A0"],[0.30769230769230771,"#8910A0"],[0.31103678929765893,"#8A119F"],[0.31438127090301005,"#8B119F"],[0.31772575250836121,"#8C129F"],[0.32107023411371238,"#8D129F"],[0.32441471571906355,"#8E139E"],[0.32775919732441472,"#8F149E"],[0.33110367892976589,"#91149E"],[0.33444816053511706,"#92159E"],[0.33779264214046828,"#93159D"],[0.34113712374581939,"#94169D"],[0.34448160535117056,"#95169D"],[0.34782608695652173,"#96179D"],[0.3511705685618729,"#97179D"],[0.35451505016722407,"#98189C"],[0.35785953177257523,"#99189C"],[0.3612040133779264,"#9A199C"],[0.36454849498327763,"#9B199C"],[0.3678929765886288,"#9C1A9B"],[0.37123745819397996,"#9D1B9B"],[0.37458193979933113,"#9E1B9B"],[0.37792642140468224,"#9F1C9B"],[0.38127090301003341,"#A01C9A"],[0.38461538461538458,"#A11D9A"],[0.38795986622073575,"#A21D9A"],[0.39130434782608697,"#A21E9A"],[0.39464882943143814,"#A31E99"],[0.39799331103678931,"#A41F99"],[0.40133779264214048,"#A51F99"],[0.40468227424749165,"#A62198"],[0.40802675585284282,"#A72297"],[0.41137123745819393,"#A82397"],[0.4147157190635451,"#A92496"],[0.41806020066889632,"#AA2595"],[0.42140468227424749,"#AB2695"],[0.42474916387959866,"#AC2794"],[0.42809364548494983,"#AD2893"],[0.43143812709030099,"#AE2993"],[0.43478260869565216,"#AE2A92"],[0.43812709030100339,"#AF2B91"],[0.44147157190635455,"#B02B91"],[0.44481605351170572,"#B12C90"],[0.44816053511705684,"#B22D8F"],[0.451505016722408,"#B32E8F"],[0.45484949832775917,"#B42F8E"],[0.45819397993311034,"#B4308D"],[0.46153846153846151,"#B5318C"],[0.46488294314381273,"#B6328C"],[0.4682274247491639,"#B7338B"],[0.47157190635451507,"#B8348A"],[0.47491638795986624,"#B9358A"],[0.47826086956521741,"#B93589"],[0.48160535117056852,"#BA3688"],[0.48494983277591969,"#BB3788"],[0.48829431438127086,"#BC3887"],[0.49163879598662208,"#BD3986"],[0.49498327759197325,"#BD3A86"],[0.49832775919732442,"#BE3B85"],[0.50167224080267558,"#BF3B84"],[0.50501672240802675,"#C03C83"],[0.50836120401337792,"#C13D83"],[0.51170568561872909,"#C13E82"],[0.51505016722408026,"#C23F81"],[0.51839464882943143,"#C34081"],[0.52173913043478259,"#C44080"],[0.52508361204013376,"#C5417F"],[0.52842809364548493,"#C5427F"],[0.5317725752508361,"#C6437E"],[0.53511705685618727,"#C7447D"],[0.53846153846153844,"#C8447C"],[0.5418060200668896,"#C8457C"],[0.54515050167224077,"#C9467B"],[0.54849498327759205,"#CA477A"],[0.55183946488294322,"#CB487A"],[0.55518394648829428,"#CB4879"],[0.55852842809364545,"#CC4978"],[0.56187290969899661,"#CD4A77"],[0.56521739130434778,"#CE4B77"],[0.56856187290969895,"#CE4C76"],[0.57190635451505012,"#CF4C75"],[0.5752508361204014,"#D04D74"],[0.57859531772575257,"#D04E74"],[0.58193979933110374,"#D14F73"],[0.5852842809364549,"#D25072"],[0.58862876254180607,"#D35072"],[0.59197324414715713,"#D35171"],[0.5953177257525083,"#D45270"],[0.59866220735785947,"#D5536F"],[0.60200668896321075,"#D5546F"],[0.60535117056856191,"#D6556E"],[0.60869565217391308,"#D7566E"],[0.61204013377926425,"#D7576D"],[0.61538461538461542,"#D8586C"],[0.6187290969899667,"#D8586C"],[0.62207357859531787,"#D9596B"],[0.62541806020066881,"#D95A6B"],[0.62876254180602009,"#DA5B6A"],[0.63210702341137126,"#DB5C6A"],[0.63545150501672243,"#DB5D69"],[0.6387959866220736,"#DC5E68"],[0.64214046822742477,"#DC5F68"],[0.64548494983277593,"#DD6067"],[0.6488294314381271,"#DD6167"],[0.65217391304347827,"#DE6266"],[0.65551839464882944,"#DE6365"],[0.65886287625418061,"#DF6465"],[0.66220735785953178,"#E06564"],[0.66555183946488294,"#E06664"],[0.66889632107023411,"#E16763"],[0.67224080267558539,"#E16862"],[0.67558528428093656,"#E26962"],[0.67892976588628751,"#E26961"],[0.68227424749163879,"#E36A60"],[0.68561872909698995,"#E36B60"],[0.68896321070234112,"#E46C5F"],[0.69230769230769229,"#E46D5F"],[0.69565217391304346,"#E56E5E"],[0.69899665551839463,"#E56F5D"],[0.7023411371237458,"#E6705D"],[0.70568561872909696,"#E7715C"],[0.70903010033444813,"#E7725B"],[0.7123745819397993,"#E8735B"],[0.71571906354515047,"#E8745A"],[0.71906354515050164,"#E97459"],[0.72240802675585281,"#E97559"],[0.72575250836120409,"#EA7658"],[0.72909698996655525,"#EA7757"],[0.73244147157190642,"#EB7856"],[0.73578595317725759,"#EB7956"],[0.73913043478260876,"#EC7A55"],[0.74247491638795993,"#EC7B54"],[0.7458193979933111,"#ED7C54"],[0.74916387959866226,"#ED7D53"],[0.75250836120401332,"#EE7D52"],[0.75585284280936449,"#EE7E51"],[0.75919732441471566,"#EF7F51"],[0.76254180602006683,"#EF8050"],[0.76588628762541799,"#F0814F"],[0.76923076923076916,"#F0824E"],[0.77257525083612033,"#F1834E"],[0.7759197324414715,"#F1844D"],[0.77926421404682278,"#F2854C"],[0.78260869565217395,"#F2854B"],[0.78595317725752512,"#F3864A"],[0.78929765886287628,"#F3874A"],[0.79264214046822745,"#F48849"],[0.79598662207357862,"#F48948"],[0.79933110367892979,"#F58A47"],[0.80267558528428096,"#F58B47"],[0.80602006688963213,"#F58C46"],[0.80936454849498329,"#F58D46"],[0.81270903010033446,"#F68F46"],[0.81605351170568563,"#F69045"],[0.81939799331103691,"#F69145"],[0.82274247491638786,"#F69245"],[0.82608695652173902,"#F69344"],[0.82943143812709019,"#F69444"],[0.83277591973244147,"#F79643"],[0.83612040133779264,"#F79743"],[0.83946488294314381,"#F79843"],[0.84280936454849498,"#F79942"],[0.84615384615384615,"#F79A42"],[0.84949832775919731,"#F79B41"],[0.85284280936454848,"#F89D41"],[0.85618729096989965,"#F89E41"],[0.85953177257525082,"#F89F40"],[0.86287625418060199,"#F8A040"],[0.86622073578595316,"#F8A13F"],[0.86956521739130432,"#F8A23F"],[0.8729096989966556,"#F8A43E"],[0.87625418060200677,"#F9A53E"],[0.87959866220735794,"#F9A63E"],[0.88294314381270911,"#F9A73D"],[0.88628762541806028,"#F9A83D"],[0.88963210702341144,"#F9A93C"],[0.8929765886287625,"#F9AA3C"],[0.89632107023411367,"#F9AB3B"],[0.89966555183946484,"#F9AD3B"],[0.90301003344481601,"#FAAE3A"],[0.90635451505016718,"#FAAF39"],[0.90969899665551834,"#FAB039"],[0.91304347826086951,"#FAB138"],[0.91638795986622068,"#FAB238"],[0.91973244147157185,"#FAB337"],[0.92307692307692302,"#FAB437"],[0.9264214046822743,"#FAB636"],[0.92976588628762546,"#FAB735"],[0.93311036789297663,"#FAB835"],[0.9364548494983278,"#FBB934"],[0.93979933110367897,"#FBBA34"],[0.94314381270903014,"#FBBB33"],[0.94648829431438131,"#FBBC32"],[0.94983277591973247,"#FBBD32"],[0.95317725752508364,"#FBBF31"],[0.95652173913043481,"#FBC030"],[0.95986622073578598,"#FBC12F"],[0.96321070234113704,"#FBC22F"],[0.96655518394648821,"#FBC32E"],[0.96989966555183937,"#FBC42D"],[0.97324414715719054,"#FCC52C"],[0.97658862876254171,"#FCC62B"],[0.97993311036789299,"#FCC72B"],[0.98327759197324416,"#FCC82A"],[0.98662207357859533,"#FCCA29"],[0.98996655518394649,"#FCCB28"],[0.99331103678929766,"#FCCC27"],[0.99665551839464883,"#FCCD26"],[1,"#FCCE25"]],"colorbar":{"bgcolor":null,"bordercolor":null,"borderwidth":0,"thickness":23.039999999999996,"title":"count","titlefont":{"color":"rgba(0,0,0,1)","family":"","size":19.925280199252807},"tickmode":"array","ticktext":["5","10","15","20","25"],"tickvals":[0.16113333333333332,0.3604666666666666,0.55980000000000008,0.75913333333333333,0.95846666666666658],"tickfont":{"color":"rgba(0,0,0,1)","family":"","size":15.940224159402241},"ticklen":2,"len":0.5}},"xaxis":"x","yaxis":"y","frame":null}],"layout":{"margin":{"t":53.858032378580326,"r":9.9626400996264035,"b":53.466168534661691,"l":49.481112494811128},"font":{"color":"rgba(0,0,0,1)","family":"","size":19.925280199252807},"title":{"text":"<b> Histogram of BPM by Song Count <\/b>","font":{"color":"rgba(0,0,0,1)","family":"","size":23.910336239103362},"x":0.5,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[57.555,211.44499999999999],"tickmode":"array","ticktext":["100","150","200"],"tickvals":[100,150,200],"categoryorder":"array","categoryarray":["100","150","200"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":4.9813200498132018,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":15.940224159402241},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.90569455451149117,"zeroline":false,"anchor":"y","title":{"text":"Beats Per Minute (BPM)","font":{"color":"rgba(0,0,0,1)","family":"","size":18.596928185969279}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-1.3,27.300000000000001],"tickmode":"array","ticktext":["0","10","20"],"tickvals":[0,10,20],"categoryorder":"array","categoryarray":["0","10","20"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":4.9813200498132018,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":15.940224159402243},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.90569455451149117,"zeroline":false,"anchor":"x","title":{"text":"Song Count","font":{"color":"rgba(0,0,0,1)","family":"","size":18.596928185969279}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":null,"bordercolor":null,"borderwidth":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":15.940224159402241},"title":{"text":"count","font":{"color":"rgba(0,0,0,1)","family":"","size":19.925280199252807}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"13437757be29":{"x":{},"fill":{},"type":"bar"}},"cur_data":"13437757be29","visdat":{"13437757be29":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p><em>Distribution of Key by Song Count</em></p>
<pre class="r"><code>key_count_df &lt;- spotify_df |&gt; 
  filter(!is.na(key)) |&gt;
  count(key)

key_histogram &lt;- ggplot(key_count_df, aes(x = reorder(key, n), y = n, fill = n)) +
  geom_bar(stat = &quot;identity&quot;, color = &quot;black&quot;, alpha = 0.7) +
  scale_fill_viridis_c(option = &quot;plasma&quot;, end = 0.9) + 
  labs(
    title = &quot;Histogram of Song Count by Key&quot;,
    subtitle = &quot;Distribution of songs across different musical keys&quot;,
    x = &quot;Key&quot;,
    y = &quot;Song Count&quot;
  ) +
  theme_minimal(base_size = 15) +
  theme(
    plot.title = element_text(face = &quot;bold&quot;, size = 18, hjust = 0.5),
    plot.subtitle = element_text(size = 14, hjust = 0.5),
    axis.text = element_text(size = 12),
    axis.title = element_text(size = 14),
    axis.text.x = element_text(angle = 45, hjust = 1))

interactive_key_histogram &lt;- ggplotly(key_histogram)

interactive_key_histogram</code></pre>
<div class="plotly html-widget html-fill-item" id="htmlwidget-ae44533c9c4f67b143a6" style="width:672px;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-ae44533c9c4f67b143a6">{"x":{"data":[{"orientation":"v","width":0.89999999999999991,"base":0,"x":[1],"y":[13],"text":"reorder(key, n): D#<br />n: 13<br />n: 13","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(13,8,135,0.7)","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.90000000000000013,"base":0,"x":[2],"y":[34],"text":"reorder(key, n): A#<br />n: 34<br />n: 34","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(166,32,152,0.7)","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.90000000000000036,"base":0,"x":[3],"y":[36],"text":"reorder(key, n): E<br />n: 36<br />n: 36","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(176,44,144,0.7)","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.90000000000000036,"base":0,"x":[4],"y":[41],"text":"reorder(key, n): F#<br />n: 41<br />n: 41","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(200,68,124,0.7)","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.90000000000000036,0.90000000000000036],"base":[0,0],"x":[5,6],"y":[43,43],"text":["reorder(key, n): A<br />n: 43<br />n: 43","reorder(key, n): G<br />n: 43<br />n: 43"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(208,78,116,0.7)","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.90000000000000036,"base":0,"x":[7],"y":[44],"text":"reorder(key, n): D<br />n: 44<br />n: 44","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(212,82,112,0.7)","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.89999999999999947,0.89999999999999858],"base":[0,0],"x":[8,9],"y":[46,46],"text":["reorder(key, n): B<br />n: 46<br />n: 46","reorder(key, n): G#<br />n: 46<br />n: 46"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(219,93,105,0.7)","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.89999999999999858,"base":0,"x":[10],"y":[52],"text":"reorder(key, n): F<br />n: 52<br />n: 52","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(237,125,83,0.7)","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.89999999999999858,"base":0,"x":[11],"y":[65],"text":"reorder(key, n): C#<br />n: 65<br />n: 65","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(252,206,37,0.7)","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1],"y":[0],"name":"0f9752654127f856a34b21bcb50a54d5","type":"scatter","mode":"markers","opacity":0,"hoverinfo":"skip","showlegend":false,"marker":{"color":[0,1],"colorscale":[[0,"#0D0887"],[0.0033444816053511853,"#100888"],[0.0066889632107023367,"#130888"],[0.010033444816053522,"#160889"],[0.013377926421404673,"#180889"],[0.016722408026755859,"#1A088A"],[0.02006688963210701,"#1D078A"],[0.023411371237458196,"#1F078B"],[0.026755852842809347,"#20078B"],[0.030100334448160532,"#22078C"],[0.033444816053511718,"#24078C"],[0.036789297658862866,"#26078D"],[0.040133779264214055,"#27078D"],[0.043478260869565202,"#29078E"],[0.046822742474916391,"#2B078E"],[0.050167224080267574,"#2C078F"],[0.053511705685618728,"#2E068F"],[0.056856187290969876,"#2F0690"],[0.060200668896321065,"#310691"],[0.063545150501672254,"#320691"],[0.066889632107023436,"#340692"],[0.070234113712374549,"#350692"],[0.073578595317725731,"#360693"],[0.076923076923076927,"#380693"],[0.08026755852842811,"#390694"],[0.083612040133779292,"#3A0594"],[0.086956521739130405,"#3C0595"],[0.090301003344481601,"#3D0595"],[0.093645484949832783,"#3E0596"],[0.096989966555183965,"#3F0596"],[0.10033444816053515,"#410597"],[0.10367892976588627,"#420597"],[0.10702341137123746,"#430598"],[0.11036789297658864,"#440499"],[0.11371237458193975,"#460499"],[0.11705685618729095,"#47049A"],[0.12040133779264213,"#48049A"],[0.12374581939799331,"#49049B"],[0.12709030100334451,"#4A049B"],[0.13043478260869562,"#4C049C"],[0.13377926421404679,"#4D039C"],[0.13712374581939799,"#4E039D"],[0.14046822742474918,"#4F039D"],[0.14381270903010035,"#50039E"],[0.14715719063545146,"#51039E"],[0.15050167224080266,"#53039F"],[0.15384615384615385,"#5402A0"],[0.15719063545150497,"#5502A0"],[0.16053511705685622,"#5602A1"],[0.16387959866220733,"#5702A1"],[0.16722408026755853,"#5802A2"],[0.1705685618729097,"#5902A2"],[0.17391304347826081,"#5A01A3"],[0.17725752508361209,"#5C01A3"],[0.1806020066889632,"#5D01A4"],[0.18394648829431437,"#5E01A4"],[0.18729096989966557,"#5F01A5"],[0.19063545150501668,"#6001A5"],[0.19397993311036793,"#6100A6"],[0.19732441471571904,"#6200A7"],[0.20066889632107024,"#6300A7"],[0.20401337792642144,"#6500A7"],[0.20735785953177255,"#6601A6"],[0.21070234113712372,"#6701A6"],[0.21404682274247491,"#6901A6"],[0.21739130434782611,"#6A02A6"],[0.22073578595317728,"#6B02A6"],[0.22408026755852839,"#6C03A5"],[0.22742474916387959,"#6E03A5"],[0.23076923076923078,"#6F03A5"],[0.23411371237458189,"#7004A5"],[0.23745819397993315,"#7104A4"],[0.24080267558528426,"#7305A4"],[0.24414715719063546,"#7405A4"],[0.24749163879598662,"#7506A4"],[0.25083612040133774,"#7606A4"],[0.25418060200668902,"#7707A3"],[0.25752508361204013,"#7907A3"],[0.2608695652173913,"#7A08A3"],[0.26421404682274247,"#7B09A3"],[0.26755852842809358,"#7C09A2"],[0.27090301003344486,"#7D0AA2"],[0.27424749163879597,"#7E0AA2"],[0.27759197324414714,"#7F0BA2"],[0.28093645484949836,"#800CA1"],[0.28428093645484948,"#820CA1"],[0.28762541806020064,"#830DA1"],[0.29096989966555181,"#840DA1"],[0.29431438127090304,"#850EA1"],[0.2976588628762542,"#860FA0"],[0.30100334448160532,"#870FA0"],[0.30434782608695649,"#8810A0"],[0.30769230769230771,"#8910A0"],[0.31103678929765888,"#8A119F"],[0.31438127090300999,"#8B119F"],[0.31772575250836116,"#8C129F"],[0.32107023411371238,"#8D129F"],[0.32441471571906355,"#8E139E"],[0.32775919732441472,"#8F149E"],[0.33110367892976583,"#91149E"],[0.33444816053511706,"#92159E"],[0.33779264214046822,"#93159D"],[0.34113712374581939,"#94169D"],[0.34448160535117051,"#95169D"],[0.34782608695652173,"#96179D"],[0.3511705685618729,"#97179D"],[0.35451505016722407,"#98189C"],[0.35785953177257529,"#99189C"],[0.3612040133779264,"#9A199C"],[0.36454849498327757,"#9B199C"],[0.36789297658862874,"#9C1A9B"],[0.37123745819397985,"#9D1B9B"],[0.37458193979933113,"#9E1B9B"],[0.37792642140468224,"#9F1C9B"],[0.38127090301003336,"#A01C9A"],[0.38461538461538464,"#A11D9A"],[0.38795986622073586,"#A21D9A"],[0.39130434782608686,"#A21E9A"],[0.39464882943143809,"#A31E99"],[0.39799331103678937,"#A41F99"],[0.40133779264214048,"#A51F99"],[0.40468227424749159,"#A62198"],[0.40802675585284287,"#A72297"],[0.41137123745819398,"#A82397"],[0.4147157190635451,"#A92496"],[0.41806020066889632,"#AA2595"],[0.42140468227424743,"#AB2695"],[0.42474916387959855,"#AC2794"],[0.42809364548494983,"#AD2893"],[0.43143812709030105,"#AE2993"],[0.43478260869565222,"#AE2A92"],[0.43812709030100333,"#AF2B91"],[0.44147157190635455,"#B02B91"],[0.44481605351170567,"#B12C90"],[0.44816053511705678,"#B22D8F"],[0.45150501672240806,"#B32E8F"],[0.45484949832775917,"#B42F8E"],[0.45819397993311028,"#B4308D"],[0.46153846153846156,"#B5318C"],[0.46488294314381279,"#B6328C"],[0.46822742474916379,"#B7338B"],[0.47157190635451501,"#B8348A"],[0.47491638795986629,"#B9358A"],[0.47826086956521741,"#B93589"],[0.48160535117056852,"#BA3688"],[0.48494983277591974,"#BB3788"],[0.48829431438127091,"#BC3887"],[0.49163879598662202,"#BD3986"],[0.49498327759197325,"#BD3A86"],[0.49832775919732436,"#BE3B85"],[0.50167224080267547,"#BF3B84"],[0.50501672240802675,"#C03C83"],[0.50836120401337803,"#C13D83"],[0.51170568561872909,"#C13E82"],[0.51505016722408026,"#C23F81"],[0.51839464882943154,"#C34081"],[0.52173913043478259,"#C44080"],[0.52508361204013376,"#C5417F"],[0.52842809364548493,"#C5427F"],[0.5317725752508361,"#C6437E"],[0.53511705685618716,"#C7447D"],[0.53846153846153844,"#C8447C"],[0.54180602006688972,"#C8457C"],[0.54515050167224066,"#C9467B"],[0.54849498327759194,"#CA477A"],[0.55183946488294322,"#CB487A"],[0.55518394648829428,"#CB4879"],[0.55852842809364545,"#CC4978"],[0.56187290969899673,"#CD4A77"],[0.56521739130434778,"#CE4B77"],[0.56856187290969895,"#CE4C76"],[0.57190635451505023,"#CF4C75"],[0.57525083612040129,"#D04D74"],[0.57859531772575246,"#D04E74"],[0.58193979933110362,"#D14F73"],[0.5852842809364549,"#D25072"],[0.58862876254180607,"#D35072"],[0.59197324414715713,"#D35171"],[0.59531772575250841,"#D45270"],[0.59866220735785958,"#D5536F"],[0.60200668896321063,"#D5546F"],[0.60535117056856191,"#D6556E"],[0.60869565217391297,"#D7566E"],[0.61204013377926414,"#D7576D"],[0.61538461538461542,"#D8586C"],[0.61872909698996648,"#D8586C"],[0.62207357859531776,"#D9596B"],[0.62541806020066892,"#D95A6B"],[0.62876254180601998,"#DA5B6A"],[0.63210702341137126,"#DB5C6A"],[0.63545150501672232,"#DB5D69"],[0.6387959866220736,"#DC5E68"],[0.64214046822742477,"#DC5F68"],[0.64548494983277582,"#DD6067"],[0.6488294314381271,"#DD6167"],[0.65217391304347827,"#DE6266"],[0.65551839464882944,"#DE6365"],[0.65886287625418061,"#DF6465"],[0.66220735785953166,"#E06564"],[0.66555183946488294,"#E06664"],[0.66889632107023411,"#E16763"],[0.67224080267558528,"#E16862"],[0.67558528428093645,"#E26962"],[0.67892976588628762,"#E26961"],[0.68227424749163879,"#E36A60"],[0.68561872909698995,"#E36B60"],[0.68896321070234101,"#E46C5F"],[0.69230769230769229,"#E46D5F"],[0.69565217391304346,"#E56E5E"],[0.69899665551839463,"#E56F5D"],[0.7023411371237458,"#E6705D"],[0.70568561872909696,"#E7715C"],[0.70903010033444813,"#E7725B"],[0.7123745819397993,"#E8735B"],[0.71571906354515058,"#E8745A"],[0.71906354515050164,"#E97459"],[0.72240802675585281,"#E97559"],[0.72575250836120397,"#EA7658"],[0.72909698996655514,"#EA7757"],[0.73244147157190642,"#EB7856"],[0.73578595317725748,"#EB7956"],[0.73913043478260865,"#EC7A55"],[0.74247491638795993,"#EC7B54"],[0.74581939799331098,"#ED7C54"],[0.74916387959866226,"#ED7D53"],[0.75250836120401332,"#EE7D52"],[0.75585284280936449,"#EE7E51"],[0.75919732441471577,"#EF7F51"],[0.76254180602006683,"#EF8050"],[0.76588628762541799,"#F0814F"],[0.76923076923076927,"#F0824E"],[0.77257525083612033,"#F1834E"],[0.77591973244147161,"#F1844D"],[0.77926421404682267,"#F2854C"],[0.78260869565217384,"#F2854B"],[0.78595317725752512,"#F3864A"],[0.78929765886287617,"#F3874A"],[0.79264214046822745,"#F48849"],[0.79598662207357862,"#F48948"],[0.79933110367892968,"#F58A47"],[0.80267558528428096,"#F58B47"],[0.80602006688963201,"#F58C46"],[0.80936454849498329,"#F58D46"],[0.81270903010033446,"#F68F46"],[0.81605351170568552,"#F69045"],[0.8193979933110368,"#F69145"],[0.82274247491638797,"#F69245"],[0.82608695652173902,"#F69344"],[0.8294314381270903,"#F69444"],[0.83277591973244136,"#F79643"],[0.83612040133779264,"#F79743"],[0.83946488294314381,"#F79843"],[0.84280936454849487,"#F79942"],[0.84615384615384615,"#F79A42"],[0.84949832775919731,"#F79B41"],[0.85284280936454848,"#F89D41"],[0.85618729096989965,"#F89E41"],[0.85953177257525071,"#F89F40"],[0.86287625418060199,"#F8A040"],[0.86622073578595316,"#F8A13F"],[0.86956521739130443,"#F8A23F"],[0.87290969899665549,"#F8A43E"],[0.87625418060200666,"#F9A53E"],[0.87959866220735783,"#F9A63E"],[0.882943143812709,"#F9A73D"],[0.88628762541806028,"#F9A83D"],[0.88963210702341133,"#F9A93C"],[0.8929765886287625,"#F9AA3C"],[0.89632107023411378,"#F9AB3B"],[0.89966555183946484,"#F9AD3B"],[0.90301003344481601,"#FAAE3A"],[0.90635451505016718,"#FAAF39"],[0.90969899665551834,"#FAB039"],[0.91304347826086962,"#FAB138"],[0.91638795986622068,"#FAB238"],[0.91973244147157185,"#FAB337"],[0.92307692307692313,"#FAB437"],[0.92642140468227419,"#FAB636"],[0.92976588628762546,"#FAB735"],[0.93311036789297652,"#FAB835"],[0.93645484949832769,"#FBB934"],[0.93979933110367897,"#FBBA34"],[0.94314381270903003,"#FBBB33"],[0.94648829431438131,"#FBBC32"],[0.94983277591973247,"#FBBD32"],[0.95317725752508353,"#FBBF31"],[0.95652173913043481,"#FBC030"],[0.95986622073578587,"#FBC12F"],[0.96321070234113704,"#FBC22F"],[0.96655518394648832,"#FBC32E"],[0.96989966555183937,"#FBC42D"],[0.97324414715719065,"#FCC52C"],[0.97658862876254182,"#FCC62B"],[0.97993311036789288,"#FCC72B"],[0.98327759197324405,"#FCC82A"],[0.98662207357859522,"#FCCA29"],[0.98996655518394649,"#FCCB28"],[0.99331103678929744,"#FCCC27"],[0.99665551839464872,"#FCCD26"],[1,"#FCCE25"]],"colorbar":{"bgcolor":null,"bordercolor":null,"borderwidth":0,"thickness":23.039999999999996,"title":"n","titlefont":{"color":"rgba(0,0,0,1)","family":"","size":19.925280199252807},"tickmode":"array","ticktext":["20","30","40","50","60"],"tickvals":[0.13583333333333333,0.32749999999999996,0.51916666666666667,0.71083333333333332,0.90249999999999997],"tickfont":{"color":"rgba(0,0,0,1)","family":"","size":15.940224159402241},"ticklen":2,"len":0.5}},"xaxis":"x","yaxis":"y","frame":null}],"layout":{"margin":{"t":53.858032378580326,"r":9.9626400996264035,"b":53.466168534661691,"l":49.481112494811128},"font":{"color":"rgba(0,0,0,1)","family":"","size":19.925280199252807},"title":{"text":"<b> Histogram of Song Count by Key <\/b>","font":{"color":"rgba(0,0,0,1)","family":"","size":23.910336239103362},"x":0.5,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.40000000000000002,11.6],"tickmode":"array","ticktext":["D#","A#","E","F#","A","G","D","B","G#","F","C#"],"tickvals":[1,2,3,4,5,6,7,8,9,10,11],"categoryorder":"array","categoryarray":["D#","A#","E","F#","A","G","D","B","G#","F","C#"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":4.9813200498132018,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":15.940224159402241},"tickangle":-45,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.90569455451149117,"zeroline":false,"anchor":"y","title":{"text":"Key","font":{"color":"rgba(0,0,0,1)","family":"","size":18.596928185969279}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-3.25,68.25],"tickmode":"array","ticktext":["0","20","40","60"],"tickvals":[0,20,40,60],"categoryorder":"array","categoryarray":["0","20","40","60"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":4.9813200498132018,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":15.940224159402243},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.90569455451149117,"zeroline":false,"anchor":"x","title":{"text":"Song Count","font":{"color":"rgba(0,0,0,1)","family":"","size":18.596928185969279}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":null,"bordercolor":null,"borderwidth":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":15.940224159402241},"title":{"text":"n","font":{"color":"rgba(0,0,0,1)","family":"","size":19.925280199252807}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"13432508ae4f":{"x":{},"y":{},"fill":{},"type":"bar"}},"cur_data":"13432508ae4f","visdat":{"13432508ae4f":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p><em>Distribution of Mode by Song Count</em></p>
<pre class="r"><code>mode_count_df &lt;- spotify_df |&gt; 
  filter(!is.na(mode)) |&gt;
  count(mode) |&gt; 
  arrange(desc(n))

mode_histogram &lt;- ggplot(mode_count_df, aes(x = reorder(mode, n), y = n, fill = n)) +
  geom_bar(stat = &quot;identity&quot;, color = &quot;black&quot;, alpha = 0.7) +
  scale_fill_viridis_c(option = &quot;plasma&quot;, end = 0.9) +
  labs(
    title = &quot;Histogram of Song Count by Mode&quot;,
    subtitle = &quot;Distribution of songs across different musical modes&quot;,
    x = &quot;Mode&quot;,
    y = &quot;Song Count&quot;
  ) +
  theme_minimal(base_size = 15) +
  theme(
    plot.title = element_text(face = &quot;bold&quot;, size = 18, hjust = 0.5),
    plot.subtitle = element_text(size = 14, hjust = 0.5),
    axis.text = element_text(size = 12),
    axis.title = element_text(size = 14),
    axis.text.x = element_text(angle = 45, hjust = 1)
  )

interactive_mode_histogram &lt;- ggplotly(mode_histogram)

interactive_mode_histogram</code></pre>
<div class="plotly html-widget html-fill-item" id="htmlwidget-e93caa4d2c225794faf0" style="width:672px;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-e93caa4d2c225794faf0">{"x":{"data":[{"orientation":"v","width":0.89999999999999991,"base":0,"x":[1],"y":[215],"text":"reorder(mode, n): Minor<br />n: 215<br />n: 215","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(13,8,135,0.7)","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.90000000000000013,"base":0,"x":[2],"y":[309],"text":"reorder(mode, n): Major<br />n: 309<br />n: 309","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(252,206,37,0.7)","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1],"y":[0],"name":"4acb74822cf7c7512db1479f3c112a4e","type":"scatter","mode":"markers","opacity":0,"hoverinfo":"skip","showlegend":false,"marker":{"color":[0,1],"colorscale":[[0,"#0D0887"],[0.0033444816053510504,"#100888"],[0.0066889632107024026,"#130888"],[0.010033444816053453,"#160889"],[0.013377926421404805,"#180889"],[0.016722408026755856,"#1A088A"],[0.020066889632106906,"#1D078A"],[0.023411371237458258,"#1F078B"],[0.026755852842809309,"#20078B"],[0.030100334448160661,"#22078C"],[0.033444816053511711,"#24078C"],[0.036789297658862762,"#26078D"],[0.040133779264214117,"#27078D"],[0.043478260869565168,"#29078E"],[0.046822742474916516,"#2B078E"],[0.050167224080267567,"#2C078F"],[0.053511705685618617,"#2E068F"],[0.056856187290969973,"#2F0690"],[0.060200668896321023,"#310691"],[0.063545150501672379,"#320691"],[0.066889632107023422,"#340692"],[0.07023411371237448,"#350692"],[0.073578595317725828,"#360693"],[0.076923076923076872,"#380693"],[0.080267558528428234,"#390694"],[0.083612040133779278,"#3A0594"],[0.086956521739130335,"#3C0595"],[0.090301003344481684,"#3D0595"],[0.093645484949832727,"#3E0596"],[0.09698996655518409,"#3F0596"],[0.10033444816053513,"#410597"],[0.10367892976588619,"#420597"],[0.10702341137123754,"#430598"],[0.11036789297658858,"#440499"],[0.11371237458193995,"#460499"],[0.11705685618729099,"#47049A"],[0.12040133779264205,"#48049A"],[0.1237458193979934,"#49049B"],[0.12709030100334445,"#4A049B"],[0.13043478260869579,"#4C049C"],[0.13377926421404684,"#4D039C"],[0.1371237458193979,"#4E039D"],[0.14046822742474924,"#4F039D"],[0.14381270903010029,"#50039E"],[0.14715719063545166,"#51039E"],[0.15050167224080271,"#53039F"],[0.15384615384615374,"#5402A0"],[0.15719063545150511,"#5502A0"],[0.16053511705685616,"#5602A1"],[0.16387959866220719,"#5702A1"],[0.16722408026755856,"#5802A2"],[0.17056856187290961,"#5902A2"],[0.17391304347826095,"#5A01A3"],[0.17725752508361201,"#5C01A3"],[0.18060200668896337,"#5D01A4"],[0.18394648829431443,"#5E01A4"],[0.18729096989966545,"#5F01A5"],[0.19063545150501682,"#6001A5"],[0.19397993311036787,"#6100A6"],[0.1973244147157189,"#6200A7"],[0.20066889632107027,"#6300A7"],[0.20401337792642132,"#6500A7"],[0.20735785953177269,"#6601A6"],[0.21070234113712372,"#6701A6"],[0.21404682274247508,"#6901A6"],[0.21739130434782614,"#6A02A6"],[0.22073578595317717,"#6B02A6"],[0.22408026755852853,"#6C03A5"],[0.22742474916387959,"#6E03A5"],[0.23076923076923064,"#6F03A5"],[0.23411371237458198,"#7004A5"],[0.23745819397993304,"#7104A4"],[0.2408026755852844,"#7305A4"],[0.24414715719063543,"#7405A4"],[0.24749163879598679,"#7506A4"],[0.25083612040133785,"#7606A4"],[0.2541806020066889,"#7707A3"],[0.25752508361204024,"#7907A3"],[0.2608695652173913,"#7A08A3"],[0.26421404682274235,"#7B09A3"],[0.26755852842809369,"#7C09A2"],[0.27090301003344475,"#7D0AA2"],[0.27424749163879608,"#7E0AA2"],[0.27759197324414714,"#7F0BA2"],[0.28093645484949847,"#800CA1"],[0.28428093645484953,"#820CA1"],[0.28762541806020059,"#830DA1"],[0.29096989966555198,"#840DA1"],[0.29431438127090298,"#850EA1"],[0.29765886287625404,"#860FA0"],[0.30100334448160543,"#870FA0"],[0.30434782608695643,"#8810A0"],[0.30769230769230782,"#8910A0"],[0.31103678929765888,"#8A119F"],[0.31438127090301021,"#8B119F"],[0.31772575250836127,"#8C129F"],[0.32107023411371233,"#8D129F"],[0.32441471571906366,"#8E139E"],[0.32775919732441472,"#8F149E"],[0.33110367892976578,"#91149E"],[0.33444816053511711,"#92159E"],[0.33779264214046817,"#93159D"],[0.3411371237458195,"#94169D"],[0.34448160535117056,"#95169D"],[0.3478260869565219,"#96179D"],[0.35117056856187295,"#97179D"],[0.35451505016722401,"#98189C"],[0.3578595317725754,"#99189C"],[0.3612040133779264,"#9A199C"],[0.36454849498327746,"#9B199C"],[0.36789297658862885,"#9C1A9B"],[0.37123745819397985,"#9D1B9B"],[0.37458193979933091,"#9E1B9B"],[0.3779264214046823,"#9F1C9B"],[0.38127090301003363,"#A01C9A"],[0.38461538461538469,"#A11D9A"],[0.38795986622073575,"#A21D9A"],[0.39130434782608708,"#A21E9A"],[0.39464882943143814,"#A31E99"],[0.3979933110367892,"#A41F99"],[0.40133779264214053,"#A51F99"],[0.40468227424749159,"#A62198"],[0.40802675585284265,"#A72297"],[0.41137123745819398,"#A82397"],[0.41471571906354537,"#A92496"],[0.41806020066889638,"#AA2595"],[0.42140468227424743,"#AB2695"],[0.42474916387959882,"#AC2794"],[0.42809364548494983,"#AD2893"],[0.43143812709030088,"#AE2993"],[0.43478260869565227,"#AE2A92"],[0.43812709030100361,"#AF2B91"],[0.44147157190635433,"#B02B91"],[0.44481605351170572,"#B12C90"],[0.44816053511705706,"#B22D8F"],[0.45150501672240778,"#B32E8F"],[0.45484949832775917,"#B42F8E"],[0.45819397993311051,"#B4308D"],[0.46153846153846129,"#B5318C"],[0.46488294314381262,"#B6328C"],[0.46822742474916396,"#B7338B"],[0.47157190635451529,"#B8348A"],[0.47491638795986607,"#B9358A"],[0.47826086956521741,"#B93589"],[0.4816053511705688,"#BA3688"],[0.48494983277591952,"#BB3788"],[0.48829431438127086,"#BC3887"],[0.49163879598662225,"#BD3986"],[0.49498327759197358,"#BD3A86"],[0.4983277591973243,"#BE3B85"],[0.5016722408026757,"#BF3B84"],[0.50501672240802697,"#C03C83"],[0.50836120401337781,"#C13D83"],[0.51170568561872909,"#C13E82"],[0.51505016722408048,"#C23F81"],[0.5183946488294312,"#C34081"],[0.52173913043478259,"#C44080"],[0.52508361204013398,"#C5417F"],[0.52842809364548471,"#C5427F"],[0.53177257525083599,"#C6437E"],[0.53511705685618738,"#C7447D"],[0.53846153846153877,"#C8447C"],[0.54180602006688949,"#C8457C"],[0.54515050167224088,"#C9467B"],[0.54849498327759216,"#CA477A"],[0.55183946488294289,"#CB487A"],[0.55518394648829428,"#CB4879"],[0.55852842809364567,"#CC4978"],[0.56187290969899695,"#CD4A77"],[0.56521739130434778,"#CE4B77"],[0.56856187290969906,"#CE4C76"],[0.57190635451505045,"#CF4C75"],[0.57525083612040118,"#D04D74"],[0.57859531772575257,"#D04E74"],[0.58193979933110396,"#D14F73"],[0.58528428093645468,"#D25072"],[0.58862876254180596,"#D35072"],[0.59197324414715735,"#D35171"],[0.59531772575250808,"#D45270"],[0.59866220735785947,"#D5536F"],[0.60200668896321086,"#D5546F"],[0.60535117056856214,"#D6556E"],[0.60869565217391286,"#D7566E"],[0.61204013377926425,"#D7576D"],[0.61538461538461564,"#D8586C"],[0.61872909698996637,"#D8586C"],[0.62207357859531776,"#D9596B"],[0.62541806020066903,"#D95A6B"],[0.62876254180602043,"#DA5B6A"],[0.63210702341137115,"#DB5C6A"],[0.63545150501672254,"#DB5D69"],[0.63879598662207326,"#DC5E68"],[0.64214046822742465,"#DC5F68"],[0.64548494983277593,"#DD6067"],[0.64882943143812732,"#DD6167"],[0.65217391304347805,"#DE6266"],[0.65551839464882944,"#DE6365"],[0.65886287625418083,"#DF6465"],[0.66220735785953155,"#E06564"],[0.66555183946488283,"#E06664"],[0.66889632107023422,"#E16763"],[0.67224080267558561,"#E16862"],[0.67558528428093634,"#E26962"],[0.67892976588628773,"#E26961"],[0.68227424749163901,"#E36A60"],[0.68561872909698984,"#E36B60"],[0.68896321070234112,"#E46C5F"],[0.69230769230769251,"#E46D5F"],[0.69565217391304379,"#E56E5E"],[0.69899665551839463,"#E56F5D"],[0.70234113712374591,"#E6705D"],[0.70568561872909674,"#E7715C"],[0.70903010033444802,"#E7725B"],[0.71237458193979941,"#E8735B"],[0.7157190635451508,"#E8745A"],[0.71906354515050153,"#E97459"],[0.72240802675585281,"#E97559"],[0.7257525083612042,"#EA7658"],[0.72909698996655492,"#EA7757"],[0.73244147157190631,"#EB7856"],[0.7357859531772577,"#EB7956"],[0.73913043478260898,"#EC7A55"],[0.7424749163879597,"#EC7B54"],[0.7458193979933111,"#ED7C54"],[0.74916387959866182,"#ED7D53"],[0.75250836120401321,"#EE7D52"],[0.7558528428093646,"#EE7E51"],[0.75919732441471588,"#EF7F51"],[0.76254180602006727,"#EF8050"],[0.76588628762541799,"#F0814F"],[0.76923076923076938,"#F0824E"],[0.77257525083612011,"#F1834E"],[0.7759197324414715,"#F1844D"],[0.77926421404682278,"#F2854C"],[0.78260869565217417,"#F2854B"],[0.78595317725752489,"#F3864A"],[0.78929765886287628,"#F3874A"],[0.79264214046822767,"#F48849"],[0.7959866220735784,"#F48948"],[0.79933110367892968,"#F58A47"],[0.80267558528428107,"#F58B47"],[0.80602006688963246,"#F58C46"],[0.80936454849498318,"#F58D46"],[0.81270903010033457,"#F68F46"],[0.8160535117056853,"#F69045"],[0.81939799331103669,"#F69145"],[0.82274247491638797,"#F69245"],[0.82608695652173936,"#F69344"],[0.82943143812709075,"#F69444"],[0.83277591973244147,"#F79643"],[0.83612040133779275,"#F79743"],[0.83946488294314359,"#F79843"],[0.84280936454849487,"#F79942"],[0.84615384615384626,"#F79A42"],[0.84949832775919765,"#F79B41"],[0.85284280936454837,"#F89D41"],[0.85618729096989965,"#F89E41"],[0.85953177257525104,"#F89F40"],[0.86287625418060176,"#F8A040"],[0.86622073578595316,"#F8A13F"],[0.86956521739130455,"#F8A23F"],[0.87290969899665583,"#F8A43E"],[0.87625418060200666,"#F9A53E"],[0.87959866220735794,"#F9A63E"],[0.88294314381270866,"#F9A73D"],[0.88628762541806005,"#F9A83D"],[0.88963210702341144,"#F9A93C"],[0.89297658862876272,"#F9AA3C"],[0.89632107023411411,"#F9AB3B"],[0.89966555183946484,"#F9AD3B"],[0.90301003344481623,"#FAAE3A"],[0.90635451505016695,"#FAAF39"],[0.90969899665551834,"#FAB039"],[0.91304347826086962,"#FAB138"],[0.91638795986622101,"#FAB238"],[0.91973244147157174,"#FAB337"],[0.92307692307692313,"#FAB437"],[0.92642140468227452,"#FAB636"],[0.92976588628762524,"#FAB735"],[0.93311036789297652,"#FAB835"],[0.93645484949832791,"#FBB934"],[0.9397993311036793,"#FBBA34"],[0.94314381270903003,"#FBBB33"],[0.94648829431438142,"#FBBC32"],[0.94983277591973214,"#FBBD32"],[0.95317725752508353,"#FBBF31"],[0.95652173913043481,"#FBC030"],[0.9598662207357862,"#FBC12F"],[0.96321070234113759,"#FBC22F"],[0.96655518394648832,"#FBC32E"],[0.9698996655518396,"#FBC42D"],[0.97324414715719043,"#FCC52C"],[0.97658862876254171,"#FCC62B"],[0.9799331103678931,"#FCC72B"],[0.98327759197324449,"#FCC82A"],[0.98662207357859522,"#FCCA29"],[0.98996655518394649,"#FCCB28"],[0.99331103678929789,"#FCCC27"],[0.99665551839464861,"#FCCD26"],[1,"#FCCE25"]],"colorbar":{"bgcolor":null,"bordercolor":null,"borderwidth":0,"thickness":23.039999999999996,"title":"n","titlefont":{"color":"rgba(0,0,0,1)","family":"","size":19.925280199252807},"tickmode":"array","ticktext":["220","240","260","280","300"],"tickvals":[0.054680851063829777,0.2667375886524822,0.47879432624113472,0.69085106382978723,0.90290780141843974],"tickfont":{"color":"rgba(0,0,0,1)","family":"","size":15.940224159402241},"ticklen":2,"len":0.5}},"xaxis":"x","yaxis":"y","frame":null}],"layout":{"margin":{"t":53.858032378580326,"r":9.9626400996264035,"b":60.072956970787359,"l":57.451224574512253},"font":{"color":"rgba(0,0,0,1)","family":"","size":19.925280199252807},"title":{"text":"<b> Histogram of Song Count by Mode <\/b>","font":{"color":"rgba(0,0,0,1)","family":"","size":23.910336239103362},"x":0.5,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.40000000000000002,2.6000000000000001],"tickmode":"array","ticktext":["Minor","Major"],"tickvals":[1,2],"categoryorder":"array","categoryarray":["Minor","Major"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":4.9813200498132018,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":15.940224159402241},"tickangle":-45,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.90569455451149117,"zeroline":false,"anchor":"y","title":{"text":"Mode","font":{"color":"rgba(0,0,0,1)","family":"","size":18.596928185969279}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-15.450000000000001,324.44999999999999],"tickmode":"array","ticktext":["0","100","200","300"],"tickvals":[0,100,199.99999999999997,300],"categoryorder":"array","categoryarray":["0","100","200","300"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":4.9813200498132018,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":15.940224159402243},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.90569455451149117,"zeroline":false,"anchor":"x","title":{"text":"Song Count","font":{"color":"rgba(0,0,0,1)","family":"","size":18.596928185969279}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":null,"bordercolor":null,"borderwidth":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":15.940224159402241},"title":{"text":"n","font":{"color":"rgba(0,0,0,1)","family":"","size":19.925280199252807}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"1343306f9dbd":{"x":{},"y":{},"fill":{},"type":"bar"}},"cur_data":"1343306f9dbd","visdat":{"1343306f9dbd":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p><em>Association Between Danceability and TikTok Engagement</em></p>
<pre class="r"><code>dance_df=
  spotify_df|&gt;
  filter(!is.na(danceability))|&gt;
  filter(released_year == &quot;2023&quot;)|&gt;
  mutate(tiktok_engagement = 
           `2024_tik_tok_posts` + `2024_tik_tok_likes` + `2024_tik_tok_views`) |&gt; 
  distinct(track, artist, .keep_all = TRUE) |&gt; 
  arrange(desc(tiktok_engagement)) |&gt; 
  group_by(danceability) |&gt; 
  summarise(song_count = n(), tiktok_engagement = mean(tiktok_engagement, na.rm = TRUE))

dance_barplot =
  ggplot(dance_df, aes(x = danceability, y = tiktok_engagement, fill = song_count)) +
  geom_bar(stat = &quot;identity&quot;, color = &quot;black&quot;, alpha = 0.8) +
  scale_fill_gradient(low = &quot;lightblue&quot;, high = &quot;blue&quot;) + 
  labs(
    title = &quot;TikTok Engagement by Danceability&quot;,
    subtitle = &quot;Bars filled based on song count&quot;,
    x = &quot;Danceability&quot;,
    y = &quot;TikTok Engagement&quot;,
    fill = &quot;Song Count&quot;
  ) +
  theme_minimal(base_size = 15) +
  theme(
    plot.title = element_text(face = &quot;bold&quot;, size = 18, hjust = 0.5),
    plot.subtitle = element_text(size = 14, hjust = 0.5),
    axis.text = element_text(size = 12),
    axis.title = element_text(size = 14),
    axis.text.x = element_text(angle = 45, hjust = 1)
  ) 

interactive_dance_barplot = ggplotly(dance_barplot)

interactive_dance_barplot</code></pre>
<div class="plotly html-widget html-fill-item" id="htmlwidget-c65e581e8778af6480c5" style="width:672px;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-c65e581e8778af6480c5">{"x":{"data":[{"orientation":"v","width":[0.90000000000000568,0.90000000000000568,0.90000000000000568,null,0.90000000000000568,0.90000000000000568,0.90000000000000568,0.90000000000000568,0.90000000000000568,0.90000000000000568,0.90000000000000568],"base":[0,0,0,null,0,0,0,0,0,0,0],"x":[48,49,55,null,63,66,75,83,89,91,93],"y":[22308539,171909919,788127821,null,30981766,69485928,229860454,812435795,1861782339,2443467928,676526537],"text":["danceability: 48<br />tiktok_engagement:   22308539<br />song_count: 1","danceability: 49<br />tiktok_engagement:  171909919<br />song_count: 1","danceability: 55<br />tiktok_engagement:  788127821<br />song_count: 1","danceability: 61<br />tiktok_engagement:         NA<br />song_count: 1","danceability: 63<br />tiktok_engagement:   30981766<br />song_count: 1","danceability: 66<br />tiktok_engagement:   69485928<br />song_count: 1","danceability: 75<br />tiktok_engagement:  229860454<br />song_count: 1","danceability: 83<br />tiktok_engagement:  812435795<br />song_count: 1","danceability: 89<br />tiktok_engagement: 1861782339<br />song_count: 1","danceability: 91<br />tiktok_engagement: 2443467928<br />song_count: 1","danceability: 93<br />tiktok_engagement:  676526537<br />song_count: 1"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(173,216,230,0.8)","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.90000000000000568,0.90000000000000568,0.90000000000000568,0.90000000000000568,0.90000000000000568,0.90000000000000568,0.90000000000000568,0.90000000000000568,0.90000000000000568,0.90000000000000568],"base":[0,0,0,0,0,0,0,0,0,0],"x":[44,52,59,60,69,79,85,86,90,92],"y":[2551181755.5,907348544,308555189.5,49100082.5,299058205,797722411,594468896,745836813,3546235819.5,910118738],"text":["danceability: 44<br />tiktok_engagement: 2551181756<br />song_count: 2","danceability: 52<br />tiktok_engagement:  907348544<br />song_count: 2","danceability: 59<br />tiktok_engagement:  308555190<br />song_count: 2","danceability: 60<br />tiktok_engagement:   49100082<br />song_count: 2","danceability: 69<br />tiktok_engagement:  299058205<br />song_count: 2","danceability: 79<br />tiktok_engagement:  797722411<br />song_count: 2","danceability: 85<br />tiktok_engagement:  594468896<br />song_count: 2","danceability: 86<br />tiktok_engagement:  745836813<br />song_count: 2","danceability: 90<br />tiktok_engagement: 3546235820<br />song_count: 2","danceability: 92<br />tiktok_engagement:  910118738<br />song_count: 2"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(165,190,235,0.8)","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.90000000000000568,0.90000000000000568,0.90000000000000568,0.90000000000000568,0.90000000000000568,0.90000000000000568,0.90000000000000568,0.90000000000000568],"base":[0,0,0,0,0,0,0,0],"x":[50,51,57,62,65,67,76,84],"y":[393181896.33333331,2233815892,1065816819,597230898,745561874.66666663,646610579,137417313,3027383775.6666665],"text":["danceability: 50<br />tiktok_engagement:  393181896<br />song_count: 3","danceability: 51<br />tiktok_engagement: 2233815892<br />song_count: 3","danceability: 57<br />tiktok_engagement: 1065816819<br />song_count: 3","danceability: 62<br />tiktok_engagement:  597230898<br />song_count: 3","danceability: 65<br />tiktok_engagement:  745561875<br />song_count: 3","danceability: 67<br />tiktok_engagement:  646610579<br />song_count: 3","danceability: 76<br />tiktok_engagement:  137417313<br />song_count: 3","danceability: 84<br />tiktok_engagement: 3027383776<br />song_count: 3"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(155,163,239,0.8)","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.90000000000000568,0.90000000000000568,0.90000000000000568,0.90000000000000568,0.90000000000000568,0.90000000000000568,0.90000000000000568],"base":[0,0,0,0,0,0,0],"x":[64,68,70,71,72,74,80],"y":[531315103.25,423698604.5,228724708.33333334,4381149380,234377355,851440771.25,1246586181],"text":["danceability: 64<br />tiktok_engagement:  531315103<br />song_count: 4","danceability: 68<br />tiktok_engagement:  423698604<br />song_count: 4","danceability: 70<br />tiktok_engagement:  228724708<br />song_count: 4","danceability: 71<br />tiktok_engagement: 4381149380<br />song_count: 4","danceability: 72<br />tiktok_engagement:  234377355<br />song_count: 4","danceability: 74<br />tiktok_engagement:  851440771<br />song_count: 4","danceability: 80<br />tiktok_engagement: 1246586181<br />song_count: 4"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(142,137,243,0.8)","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.90000000000000568,0.90000000000000568,0.90000000000000568,0.90000000000000568],"base":[0,0,0,0],"x":[56,77,81,82],"y":[846202038.20000005,706329513.39999998,949316223,1094562220.25],"text":["danceability: 56<br />tiktok_engagement:  846202038<br />song_count: 5","danceability: 77<br />tiktok_engagement:  706329513<br />song_count: 5","danceability: 81<br />tiktok_engagement:  949316223<br />song_count: 5","danceability: 82<br />tiktok_engagement: 1094562220<br />song_count: 5"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(126,110,247,0.8)","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.90000000000000568,"base":0,"x":[78],"y":[3200014408.2857141],"text":"danceability: 78<br />tiktok_engagement: 3200014408<br />song_count: 8","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,0,255,0.8)","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[50],"y":[0],"name":"7259db898df61e424a44747e4bf2cd5e","type":"scatter","mode":"markers","opacity":0,"hoverinfo":"skip","showlegend":false,"marker":{"color":[0,1],"colorscale":[[0,"#ADD8E6"],[0.0033444816053511683,"#ADD7E6"],[0.0066889632107023367,"#ADD7E6"],[0.010033444816053505,"#ADD6E6"],[0.013377926421404673,"#ACD6E6"],[0.016722408026755842,"#ACD5E7"],[0.02006688963210701,"#ACD4E7"],[0.02341137123745821,"#ACD4E7"],[0.026755852842809347,"#ACD3E7"],[0.030100334448160546,"#ACD2E7"],[0.033444816053511718,"#ABD2E7"],[0.036789297658862886,"#ABD1E7"],[0.040133779264214055,"#ABD1E7"],[0.043478260869565223,"#ABD0E8"],[0.046822742474916391,"#ABCFE8"],[0.05016722408026756,"#ABCFE8"],[0.053511705685618728,"#AACEE8"],[0.056856187290969896,"#AACDE8"],[0.060200668896321065,"#AACDE8"],[0.063545150501672226,"#AACCE8"],[0.066889632107023395,"#AACCE8"],[0.070234113712374563,"#A9CBE8"],[0.073578595317725773,"#A9CAE9"],[0.0769230769230769,"#A9CAE9"],[0.08026755852842811,"#A9C9E9"],[0.083612040133779236,"#A9C8E9"],[0.086956521739130446,"#A9C8E9"],[0.090301003344481573,"#A8C7E9"],[0.093645484949832783,"#A8C7E9"],[0.096989966555183951,"#A8C6E9"],[0.10033444816053512,"#A8C5E9"],[0.10367892976588629,"#A8C5EA"],[0.10702341137123746,"#A7C4EA"],[0.11036789297658862,"#A7C4EA"],[0.11371237458193979,"#A7C3EA"],[0.11705685618729096,"#A7C2EA"],[0.12040133779264213,"#A7C2EA"],[0.12374581939799333,"#A6C1EA"],[0.12709030100334445,"#A6C0EA"],[0.13043478260869565,"#A6C0EA"],[0.13377926421404679,"#A6BFEB"],[0.13712374581939799,"#A6BFEB"],[0.14046822742474913,"#A5BEEB"],[0.14381270903010032,"#A5BDEB"],[0.14715719063545155,"#A5BDEB"],[0.15050167224080266,"#A5BCEB"],[0.1538461538461538,"#A5BBEB"],[0.157190635451505,"#A4BBEB"],[0.16053511705685622,"#A4BAEB"],[0.16387959866220733,"#A4BAEC"],[0.16722408026755847,"#A4B9EC"],[0.17056856187290967,"#A3B8EC"],[0.17391304347826089,"#A3B8EC"],[0.17725752508361201,"#A3B7EC"],[0.18060200668896315,"#A3B7EC"],[0.18394648829431434,"#A3B6EC"],[0.18729096989966557,"#A2B5EC"],[0.19063545150501668,"#A2B5EC"],[0.1939799331103679,"#A2B4EC"],[0.1973244147157191,"#A2B3ED"],[0.20066889632107024,"#A1B3ED"],[0.20401337792642135,"#A1B2ED"],[0.20735785953177258,"#A1B2ED"],[0.21070234113712377,"#A1B1ED"],[0.21404682274247491,"#A0B0ED"],[0.21739130434782603,"#A0B0ED"],[0.22073578595317725,"#A0AFED"],[0.22408026755852845,"#A0AFED"],[0.22742474916387959,"#9FAEEE"],[0.2307692307692307,"#9FADEE"],[0.23411371237458192,"#9FADEE"],[0.23745819397993312,"#9FACEE"],[0.24080267558528426,"#9FABEE"],[0.24414715719063546,"#9EABEE"],[0.24749163879598665,"#9EAAEE"],[0.25083612040133779,"#9EAAEE"],[0.2541806020066889,"#9EA9EE"],[0.25752508361204013,"#9DA8EE"],[0.2608695652173913,"#9DA8EE"],[0.26421404682274247,"#9DA7EF"],[0.26755852842809358,"#9CA7EF"],[0.2709030100334448,"#9CA6EF"],[0.27424749163879597,"#9CA5EF"],[0.27759197324414714,"#9CA5EF"],[0.28093645484949825,"#9BA4EF"],[0.28428093645484948,"#9BA3EF"],[0.28762541806020064,"#9BA3EF"],[0.29096989966555181,"#9BA2EF"],[0.29431438127090298,"#9AA2EF"],[0.29765886287625415,"#9AA1F0"],[0.30100334448160532,"#9AA0F0"],[0.30434782608695649,"#9AA0F0"],[0.30769230769230765,"#999FF0"],[0.31103678929765882,"#999FF0"],[0.31438127090300999,"#999EF0"],[0.31772575250836116,"#989DF0"],[0.32107023411371233,"#989DF0"],[0.32441471571906355,"#989CF0"],[0.32775919732441466,"#989BF0"],[0.33110367892976589,"#979BF0"],[0.334448160535117,"#979AF1"],[0.33779264214046822,"#979AF1"],[0.34113712374581934,"#9699F1"],[0.34448160535117056,"#9698F1"],[0.34782608695652167,"#9698F1"],[0.3511705685618729,"#9697F1"],[0.35451505016722401,"#9597F1"],[0.35785953177257523,"#9596F1"],[0.36120401337792635,"#9595F1"],[0.36454849498327757,"#9495F1"],[0.36789297658862868,"#9494F1"],[0.37123745819397991,"#9493F2"],[0.37458193979933113,"#9393F2"],[0.37792642140468224,"#9392F2"],[0.38127090301003347,"#9392F2"],[0.38461538461538458,"#9291F2"],[0.38795986622073581,"#9290F2"],[0.39130434782608692,"#9290F2"],[0.39464882943143814,"#928FF2"],[0.39799331103678925,"#918EF2"],[0.40133779264214048,"#918EF2"],[0.40468227424749159,"#918DF2"],[0.40802675585284282,"#908DF3"],[0.41137123745819393,"#908CF3"],[0.41471571906354515,"#908BF3"],[0.41806020066889626,"#8F8BF3"],[0.42140468227424749,"#8F8AF3"],[0.4247491638795986,"#8F8AF3"],[0.42809364548494983,"#8E89F3"],[0.43143812709030094,"#8E88F3"],[0.43478260869565205,"#8E88F3"],[0.43812709030100333,"#8D87F3"],[0.4414715719063545,"#8D86F3"],[0.44481605351170572,"#8D86F3"],[0.44816053511705689,"#8C85F4"],[0.451505016722408,"#8C85F4"],[0.45484949832775917,"#8C84F4"],[0.45819397993311028,"#8B83F4"],[0.4615384615384614,"#8B83F4"],[0.46488294314381268,"#8A82F4"],[0.46822742474916385,"#8A82F4"],[0.47157190635451507,"#8A81F4"],[0.47491638795986624,"#8980F4"],[0.47826086956521735,"#8980F4"],[0.48160535117056852,"#897FF4"],[0.48494983277591963,"#887EF4"],[0.48829431438127091,"#887EF5"],[0.49163879598662202,"#887DF5"],[0.4949832775919733,"#877DF5"],[0.49832775919732442,"#877CF5"],[0.50167224080267558,"#867BF5"],[0.50501672240802675,"#867BF5"],[0.50836120401337781,"#867AF5"],[0.51170568561872898,"#8579F5"],[0.51505016722408026,"#8579F5"],[0.51839464882943143,"#8578F5"],[0.52173913043478259,"#8478F5"],[0.52508361204013376,"#8477F5"],[0.52842809364548493,"#8376F6"],[0.5317725752508361,"#8376F6"],[0.53511705685618716,"#8375F6"],[0.53846153846153844,"#8274F6"],[0.5418060200668896,"#8274F6"],[0.54515050167224088,"#8173F6"],[0.54849498327759194,"#8173F6"],[0.55183946488294311,"#8172F6"],[0.55518394648829428,"#8071F6"],[0.55852842809364545,"#8071F6"],[0.5618729096989965,"#7F70F6"],[0.56521739130434778,"#7F6FF6"],[0.56856187290969895,"#7E6FF6"],[0.57190635451505012,"#7E6EF7"],[0.57525083612040129,"#7E6EF7"],[0.57859531772575246,"#7D6DF7"],[0.58193979933110362,"#7D6CF7"],[0.58528428093645479,"#7C6CF7"],[0.58862876254180596,"#7C6BF7"],[0.59197324414715713,"#7B6AF7"],[0.5953177257525083,"#7B6AF7"],[0.59866220735785958,"#7B69F7"],[0.60200668896321063,"#7A68F7"],[0.6053511705685618,"#7A68F7"],[0.60869565217391297,"#7967F7"],[0.61204013377926425,"#7967F7"],[0.61538461538461531,"#7866F8"],[0.61872909698996648,"#7865F8"],[0.62207357859531764,"#7765F8"],[0.62541806020066892,"#7764F8"],[0.62876254180601998,"#7663F8"],[0.63210702341137115,"#7663F8"],[0.63545150501672232,"#7562F8"],[0.6387959866220736,"#7561F8"],[0.64214046822742465,"#7561F8"],[0.64548494983277582,"#7460F8"],[0.6488294314381271,"#745FF8"],[0.65217391304347827,"#735FF8"],[0.65551839464882933,"#735EF8"],[0.6588628762541805,"#725EF8"],[0.66220735785953178,"#725DF9"],[0.66555183946488294,"#715CF9"],[0.668896321070234,"#715CF9"],[0.67224080267558517,"#705BF9"],[0.67558528428093645,"#705AF9"],[0.67892976588628762,"#6F5AF9"],[0.68227424749163867,"#6E59F9"],[0.68561872909698984,"#6E58F9"],[0.68896321070234112,"#6D58F9"],[0.69230769230769229,"#6D57F9"],[0.69565217391304335,"#6C56F9"],[0.69899665551839463,"#6C56F9"],[0.7023411371237458,"#6B55F9"],[0.70568561872909696,"#6B54F9"],[0.70903010033444802,"#6A54FA"],[0.7123745819397993,"#6A53FA"],[0.71571906354515047,"#6952FA"],[0.71906354515050164,"#6852FA"],[0.72240802675585269,"#6851FA"],[0.72575250836120397,"#6750FA"],[0.72909698996655514,"#6750FA"],[0.73244147157190631,"#664FFA"],[0.73578595317725737,"#664EFA"],[0.73913043478260865,"#654EFA"],[0.74247491638795982,"#644DFA"],[0.74581939799331098,"#644CFA"],[0.74916387959866226,"#634CFA"],[0.75250836120401332,"#634BFA"],[0.75585284280936449,"#624AFA"],[0.75919732441471566,"#614AFB"],[0.76254180602006694,"#6149FB"],[0.76588628762541799,"#6048FB"],[0.76923076923076916,"#5F47FB"],[0.77257525083612033,"#5F47FB"],[0.77591973244147161,"#5E46FB"],[0.77926421404682267,"#5D45FB"],[0.78260869565217384,"#5D45FB"],[0.785953177257525,"#5C44FB"],[0.78929765886287628,"#5B43FB"],[0.79264214046822734,"#5B43FB"],[0.79598662207357851,"#5A42FB"],[0.79933110367892968,"#5941FB"],[0.80267558528428096,"#5940FB"],[0.80602006688963201,"#5840FB"],[0.80936454849498318,"#573FFC"],[0.81270903010033446,"#563EFC"],[0.81605351170568563,"#563DFC"],[0.81939799331103669,"#553DFC"],[0.82274247491638786,"#543CFC"],[0.82608695652173914,"#533BFC"],[0.8294314381270903,"#533AFC"],[0.83277591973244136,"#523AFC"],[0.83612040133779253,"#5139FC"],[0.83946488294314381,"#5038FC"],[0.84280936454849498,"#4F37FC"],[0.84615384615384603,"#4F37FC"],[0.8494983277591972,"#4E36FC"],[0.85284280936454848,"#4D35FC"],[0.85618729096989965,"#4C34FC"],[0.85953177257525071,"#4B33FC"],[0.86287625418060199,"#4A33FD"],[0.86622073578595316,"#4932FD"],[0.86956521739130432,"#4931FD"],[0.87290969899665538,"#4830FD"],[0.87625418060200666,"#472FFD"],[0.87959866220735783,"#462FFD"],[0.882943143812709,"#452EFD"],[0.88628762541806005,"#442DFD"],[0.88963210702341133,"#432CFD"],[0.8929765886287625,"#422BFD"],[0.89632107023411367,"#412AFD"],[0.89966555183946473,"#4029FD"],[0.90301003344481601,"#3F28FD"],[0.90635451505016718,"#3D28FD"],[0.90969899665551834,"#3C27FD"],[0.91304347826086951,"#3B26FD"],[0.91638795986622068,"#3A25FE"],[0.91973244147157185,"#3924FE"],[0.92307692307692302,"#3823FE"],[0.92642140468227419,"#3622FE"],[0.92976588628762535,"#3521FE"],[0.93311036789297652,"#3420FE"],[0.93645484949832769,"#321FFE"],[0.93979933110367886,"#311DFE"],[0.94314381270903003,"#2F1CFE"],[0.9464882943143812,"#2E1BFE"],[0.94983277591973236,"#2C1AFE"],[0.95317725752508353,"#2B19FE"],[0.9565217391304347,"#2917FE"],[0.95986622073578587,"#2716FE"],[0.96321070234113704,"#2515FE"],[0.96655518394648821,"#2313FE"],[0.96989966555183937,"#2112FE"],[0.97324414715719054,"#1F10FF"],[0.97658862876254182,"#1C0FFF"],[0.97993311036789288,"#1A0DFF"],[0.98327759197324405,"#170BFF"],[0.98662207357859522,"#1408FF"],[0.98996655518394649,"#1006FF"],[0.99331103678929755,"#0B04FF"],[0.99665551839464872,"#0602FF"],[1,"#0000FF"]],"colorbar":{"bgcolor":null,"bordercolor":null,"borderwidth":0,"thickness":23.039999999999996,"title":"Song Count","titlefont":{"color":"rgba(0,0,0,1)","family":"","size":19.925280199252807},"tickmode":"array","ticktext":["2","4","6","8"],"tickvals":[0.14404761904761904,0.42880952380952375,0.71357142857142852,0.99833333333333329],"tickfont":{"color":"rgba(0,0,0,1)","family":"","size":15.940224159402241},"ticklen":2,"len":0.5}},"xaxis":"x","yaxis":"y","frame":null}],"layout":{"margin":{"t":53.858032378580326,"r":9.9626400996264035,"b":53.466168534661691,"l":73.391448733914501},"font":{"color":"rgba(0,0,0,1)","family":"","size":19.925280199252807},"title":{"text":"<b> TikTok Engagement by Danceability <\/b>","font":{"color":"rgba(0,0,0,1)","family":"","size":23.910336239103362},"x":0.5,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[41.055,95.945000000000007],"tickmode":"array","ticktext":["50","60","70","80","90"],"tickvals":[50,60,70,80,90],"categoryorder":"array","categoryarray":["50","60","70","80","90"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":4.9813200498132018,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":15.940224159402241},"tickangle":-45,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.90569455451149117,"zeroline":false,"anchor":"y","title":{"text":"Danceability","font":{"color":"rgba(0,0,0,1)","family":"","size":18.596928185969279}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-219057469,4600206849],"tickmode":"array","ticktext":["0e+00","1e+09","2e+09","3e+09","4e+09"],"tickvals":[0,1000000000,2000000000,3000000000,4000000000],"categoryorder":"array","categoryarray":["0e+00","1e+09","2e+09","3e+09","4e+09"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":4.9813200498132018,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":15.940224159402243},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.90569455451149117,"zeroline":false,"anchor":"x","title":{"text":"TikTok Engagement","font":{"color":"rgba(0,0,0,1)","family":"","size":18.596928185969279}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":null,"bordercolor":null,"borderwidth":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":15.940224159402241},"title":{"text":"Song Count","font":{"color":"rgba(0,0,0,1)","family":"","size":19.925280199252807}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"13431c8cd2eb":{"x":{},"y":{},"fill":{},"type":"bar"}},"cur_data":"13431c8cd2eb","visdat":{"13431c8cd2eb":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p>This plot demonstrates the association between danceability and
average TikTok engagement, a variable which is aggregated by posts made
with the song, likes and views. The highest engagement on TikTok is
among from 4 songs with a danceability score of 71 and the distribution
is a weak bimodal one.</p>
<p><em>Energy and TikTok Engagement</em></p>
<pre class="r"><code>energy_df = 
  spotify_df |&gt;
  filter(!is.na(energy)) |&gt;
  filter(released_year == &quot;2023&quot;) |&gt;
  mutate(tiktok_engagement = 
           `2024_tik_tok_posts` + `2024_tik_tok_likes` + `2024_tik_tok_views`) |&gt;
  distinct(track, artist, .keep_all = TRUE) |&gt;
  arrange(desc(tiktok_engagement))

energy_scatterplot =
  ggplot(energy_df, aes(x = energy, y = tiktok_engagement)) +
  geom_point(alpha = 0.7, color = &quot;blue&quot;) +
  labs(
    title = &quot;TikTok Engagement by Energy, 2023&quot;,
    subtitle = &quot;Each point represents a single song&quot;,
    x = &quot;Energy&quot;,
    y = &quot;TikTok Engagement&quot;
  ) +
  theme_minimal(base_size = 15) +
  theme(
    plot.title = element_text(face = &quot;bold&quot;, size = 18, hjust = 0.5),
    plot.subtitle = element_text(size = 14, hjust = 0.5),
    axis.text = element_text(size = 12),
    axis.title = element_text(size = 14)
  )

interactive_energy_scatterplot = ggplotly(energy_scatterplot)

interactive_energy_scatterplot</code></pre>
<div class="plotly html-widget html-fill-item" id="htmlwidget-895a9e291b3f17856ab9" style="width:672px;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-895a9e291b3f17856ab9">{"x":{"data":[{"x":[68,63,39,73,59,9,43,77,48,58,83,82,68,78,72,43,71,53,80,87,58,39,58,74,72,76,81,66,88,88,52,68,60,82,48,85,80,83,68,53,89,71,44,78,88,68,65,47,84,66,41,82,59,68,78,85,88,68,66,70,84,87,77,76,71,72,72,63,62,85,63,44,70,63,35,76,90,67,89,64,89,63,84,40,58,77,73,57,81,53,73,76,73,80,56,54,60,76,71,65,67,53,65,72,80,48,66,59,90,67,79],"y":[15689673773,12737629641,7279403047,6088896356,4797802309,4498352012,2866405250,2741459447,2533176935,2443467928,2250976835,2209468513,1865161944,1861782339,1797514396,1746168131,1673502678,1601226534,1546260953,1477805102,1386237027,1372956101,1340490006,1320774982,1288610183,1279339728,1218407342,1216274119,1205773778,1099250318,1011400230,1003575283,998816945,950852517,941614198,898264958,894230110,877092932,873082890,870185966,831265405,824652826,812435795,788127821,780486439,697179864,691107374,676526537,640271236,610011568,604011499,599652928,597230898,594468896,587305906,540178438,526556510,480988936,445545992,434000449,373229883,362630407,351250629,334119242,299058205,275819346,275399507,263674407,262817032,258869846,229860454,214137507,207615226,206932521,171909919,165728466,143368299,129245602,122769194,117441503,112555183,110847518,85618151,69485928,67219400,64553277,57059738,53093614,51656925,45106551,30981766,24777160,24322062,22308539,21680532,21580827,17457451,15928593,7869613,4841397,null,null,null,null,null,null,null,null,null,null,null],"text":["energy: 68<br />tiktok_engagement: 15689673773","energy: 63<br />tiktok_engagement: 12737629641","energy: 39<br />tiktok_engagement:  7279403047","energy: 73<br />tiktok_engagement:  6088896356","energy: 59<br />tiktok_engagement:  4797802309","energy:  9<br />tiktok_engagement:  4498352012","energy: 43<br />tiktok_engagement:  2866405250","energy: 77<br />tiktok_engagement:  2741459447","energy: 48<br />tiktok_engagement:  2533176935","energy: 58<br />tiktok_engagement:  2443467928","energy: 83<br />tiktok_engagement:  2250976835","energy: 82<br />tiktok_engagement:  2209468513","energy: 68<br />tiktok_engagement:  1865161944","energy: 78<br />tiktok_engagement:  1861782339","energy: 72<br />tiktok_engagement:  1797514396","energy: 43<br />tiktok_engagement:  1746168131","energy: 71<br />tiktok_engagement:  1673502678","energy: 53<br />tiktok_engagement:  1601226534","energy: 80<br />tiktok_engagement:  1546260953","energy: 87<br />tiktok_engagement:  1477805102","energy: 58<br />tiktok_engagement:  1386237027","energy: 39<br />tiktok_engagement:  1372956101","energy: 58<br />tiktok_engagement:  1340490006","energy: 74<br />tiktok_engagement:  1320774982","energy: 72<br />tiktok_engagement:  1288610183","energy: 76<br />tiktok_engagement:  1279339728","energy: 81<br />tiktok_engagement:  1218407342","energy: 66<br />tiktok_engagement:  1216274119","energy: 88<br />tiktok_engagement:  1205773778","energy: 88<br />tiktok_engagement:  1099250318","energy: 52<br />tiktok_engagement:  1011400230","energy: 68<br />tiktok_engagement:  1003575283","energy: 60<br />tiktok_engagement:   998816945","energy: 82<br />tiktok_engagement:   950852517","energy: 48<br />tiktok_engagement:   941614198","energy: 85<br />tiktok_engagement:   898264958","energy: 80<br />tiktok_engagement:   894230110","energy: 83<br />tiktok_engagement:   877092932","energy: 68<br />tiktok_engagement:   873082890","energy: 53<br />tiktok_engagement:   870185966","energy: 89<br />tiktok_engagement:   831265405","energy: 71<br />tiktok_engagement:   824652826","energy: 44<br />tiktok_engagement:   812435795","energy: 78<br />tiktok_engagement:   788127821","energy: 88<br />tiktok_engagement:   780486439","energy: 68<br />tiktok_engagement:   697179864","energy: 65<br />tiktok_engagement:   691107374","energy: 47<br />tiktok_engagement:   676526537","energy: 84<br />tiktok_engagement:   640271236","energy: 66<br />tiktok_engagement:   610011568","energy: 41<br />tiktok_engagement:   604011499","energy: 82<br />tiktok_engagement:   599652928","energy: 59<br />tiktok_engagement:   597230898","energy: 68<br />tiktok_engagement:   594468896","energy: 78<br />tiktok_engagement:   587305906","energy: 85<br />tiktok_engagement:   540178438","energy: 88<br />tiktok_engagement:   526556510","energy: 68<br />tiktok_engagement:   480988936","energy: 66<br />tiktok_engagement:   445545992","energy: 70<br />tiktok_engagement:   434000449","energy: 84<br />tiktok_engagement:   373229883","energy: 87<br />tiktok_engagement:   362630407","energy: 77<br />tiktok_engagement:   351250629","energy: 76<br />tiktok_engagement:   334119242","energy: 71<br />tiktok_engagement:   299058205","energy: 72<br />tiktok_engagement:   275819346","energy: 72<br />tiktok_engagement:   275399507","energy: 63<br />tiktok_engagement:   263674407","energy: 62<br />tiktok_engagement:   262817032","energy: 85<br />tiktok_engagement:   258869846","energy: 63<br />tiktok_engagement:   229860454","energy: 44<br />tiktok_engagement:   214137507","energy: 70<br />tiktok_engagement:   207615226","energy: 63<br />tiktok_engagement:   206932521","energy: 35<br />tiktok_engagement:   171909919","energy: 76<br />tiktok_engagement:   165728466","energy: 90<br />tiktok_engagement:   143368299","energy: 67<br />tiktok_engagement:   129245602","energy: 89<br />tiktok_engagement:   122769194","energy: 64<br />tiktok_engagement:   117441503","energy: 89<br />tiktok_engagement:   112555183","energy: 63<br />tiktok_engagement:   110847518","energy: 84<br />tiktok_engagement:    85618151","energy: 40<br />tiktok_engagement:    69485928","energy: 58<br />tiktok_engagement:    67219400","energy: 77<br />tiktok_engagement:    64553277","energy: 73<br />tiktok_engagement:    57059738","energy: 57<br />tiktok_engagement:    53093614","energy: 81<br />tiktok_engagement:    51656925","energy: 53<br />tiktok_engagement:    45106551","energy: 73<br />tiktok_engagement:    30981766","energy: 76<br />tiktok_engagement:    24777160","energy: 73<br />tiktok_engagement:    24322062","energy: 80<br />tiktok_engagement:    22308539","energy: 56<br />tiktok_engagement:    21680532","energy: 54<br />tiktok_engagement:    21580827","energy: 60<br />tiktok_engagement:    17457451","energy: 76<br />tiktok_engagement:    15928593","energy: 71<br />tiktok_engagement:     7869613","energy: 65<br />tiktok_engagement:     4841397","energy: 67<br />tiktok_engagement:          NA","energy: 53<br />tiktok_engagement:          NA","energy: 65<br />tiktok_engagement:          NA","energy: 72<br />tiktok_engagement:          NA","energy: 80<br />tiktok_engagement:          NA","energy: 48<br />tiktok_engagement:          NA","energy: 66<br />tiktok_engagement:          NA","energy: 59<br />tiktok_engagement:          NA","energy: 90<br />tiktok_engagement:          NA","energy: 67<br />tiktok_engagement:          NA","energy: 79<br />tiktok_engagement:          NA"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,0,255,1)","opacity":0.69999999999999996,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(0,0,255,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":53.858032378580326,"r":9.9626400996264035,"b":53.466168534661691,"l":89.33167289331675},"font":{"color":"rgba(0,0,0,1)","family":"","size":19.925280199252807},"title":{"text":"<b> TikTok Engagement by Energy, 2023 <\/b>","font":{"color":"rgba(0,0,0,1)","family":"","size":23.910336239103362},"x":0.5,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[4.9500000000000002,94.049999999999997],"tickmode":"array","ticktext":["25","50","75"],"tickvals":[25,50,75],"categoryorder":"array","categoryarray":["25","50","75"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":4.9813200498132018,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":15.940224159402241},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.90569455451149117,"zeroline":false,"anchor":"y","title":{"text":"Energy","font":{"color":"rgba(0,0,0,1)","family":"","size":18.596928185969279}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-779400221.80000007,16473915391.799999],"tickmode":"array","ticktext":["0.0e+00","5.0e+09","1.0e+10","1.5e+10"],"tickvals":[0,5000000000,10000000000,15000000000],"categoryorder":"array","categoryarray":["0.0e+00","5.0e+09","1.0e+10","1.5e+10"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":4.9813200498132018,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":15.940224159402243},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.90569455451149117,"zeroline":false,"anchor":"x","title":{"text":"TikTok Engagement","font":{"color":"rgba(0,0,0,1)","family":"","size":18.596928185969279}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":null,"bordercolor":null,"borderwidth":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":15.940224159402241}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"1343343ccff9":{"x":{},"y":{},"type":"scatter"}},"cur_data":"1343343ccff9","visdat":{"1343343ccff9":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p>This plot demonstrates the association between energy and average
TikTok engagement, a variable which is aggregated by posts made with the
song, likes and views. The highest engagement on TikTok is among from 1
song with a energy score of 68.</p>
<p><em>Liveness and TikTok Engagement</em></p>
<pre class="r"><code>liveness_df = 
  spotify_df |&gt;
  filter(!is.na(liveness)) |&gt;
  filter(released_year == &quot;2023&quot;) |&gt;
  mutate(tiktok_engagement = 
           `2024_tik_tok_posts` + `2024_tik_tok_likes` + `2024_tik_tok_views`) |&gt;
  distinct(track, artist, .keep_all = TRUE) |&gt;
  arrange(desc(tiktok_engagement))

# Scatter plot
liveness_scatterplot =
  ggplot(liveness_df, aes(x = liveness, y = tiktok_engagement)) +
  geom_point(alpha = 0.7, color = &quot;blue&quot;) +
  labs(
    title = &quot;TikTok Engagement by Liveness&quot;,
    subtitle = &quot;Each point represents a single song&quot;,
    x = &quot;Liveness&quot;,
    y = &quot;TikTok Engagement&quot;
  ) +
  theme_minimal(base_size = 15) +
  theme(
    plot.title = element_text(face = &quot;bold&quot;, size = 18, hjust = 0.5),
    plot.subtitle = element_text(size = 14, hjust = 0.5),
    axis.text = element_text(size = 12),
    axis.title = element_text(size = 14)
  )

# Convert to interactive plot
interactive_liveness_scatterplot = ggplotly(liveness_scatterplot)

interactive_liveness_scatterplot</code></pre>
<div class="plotly html-widget html-fill-item" id="htmlwidget-0d191580378fd1d799b9" style="width:672px;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-0d191580378fd1d799b9">{"x":{"data":[{"x":[3,9,11,9,34,10,9,11,8,31,27,15,11,7,27,12,34,31,5,11,8,9,23,42,17,10,10,12,17,8,28,10,12,9,15,11,11,8,15,11,17,11,10,12,11,26,10,10,47,38,38,12,38,9,11,23,8,11,19,15,11,8,38,33,31,12,9,9,15,15,15,33,41,27,11,10,12,11,15,10,43,21,7,11,16,9,35,50,8,21,36,12,11,37,15,9,25,8,56,22,12,15,26,9,37,12,12,6,15,9,11],"y":[15689673773,12737629641,7279403047,6088896356,4797802309,4498352012,2866405250,2741459447,2533176935,2443467928,2250976835,2209468513,1865161944,1861782339,1797514396,1746168131,1673502678,1601226534,1546260953,1477805102,1386237027,1372956101,1340490006,1320774982,1288610183,1279339728,1218407342,1216274119,1205773778,1099250318,1011400230,1003575283,998816945,950852517,941614198,898264958,894230110,877092932,873082890,870185966,831265405,824652826,812435795,788127821,780486439,697179864,691107374,676526537,640271236,610011568,604011499,599652928,597230898,594468896,587305906,540178438,526556510,480988936,445545992,434000449,373229883,362630407,351250629,334119242,299058205,275819346,275399507,263674407,262817032,258869846,229860454,214137507,207615226,206932521,171909919,165728466,143368299,129245602,122769194,117441503,112555183,110847518,85618151,69485928,67219400,64553277,57059738,53093614,51656925,45106551,30981766,24777160,24322062,22308539,21680532,21580827,17457451,15928593,7869613,4841397,null,null,null,null,null,null,null,null,null,null,null],"text":["liveness:  3<br />tiktok_engagement: 15689673773","liveness:  9<br />tiktok_engagement: 12737629641","liveness: 11<br />tiktok_engagement:  7279403047","liveness:  9<br />tiktok_engagement:  6088896356","liveness: 34<br />tiktok_engagement:  4797802309","liveness: 10<br />tiktok_engagement:  4498352012","liveness:  9<br />tiktok_engagement:  2866405250","liveness: 11<br />tiktok_engagement:  2741459447","liveness:  8<br />tiktok_engagement:  2533176935","liveness: 31<br />tiktok_engagement:  2443467928","liveness: 27<br />tiktok_engagement:  2250976835","liveness: 15<br />tiktok_engagement:  2209468513","liveness: 11<br />tiktok_engagement:  1865161944","liveness:  7<br />tiktok_engagement:  1861782339","liveness: 27<br />tiktok_engagement:  1797514396","liveness: 12<br />tiktok_engagement:  1746168131","liveness: 34<br />tiktok_engagement:  1673502678","liveness: 31<br />tiktok_engagement:  1601226534","liveness:  5<br />tiktok_engagement:  1546260953","liveness: 11<br />tiktok_engagement:  1477805102","liveness:  8<br />tiktok_engagement:  1386237027","liveness:  9<br />tiktok_engagement:  1372956101","liveness: 23<br />tiktok_engagement:  1340490006","liveness: 42<br />tiktok_engagement:  1320774982","liveness: 17<br />tiktok_engagement:  1288610183","liveness: 10<br />tiktok_engagement:  1279339728","liveness: 10<br />tiktok_engagement:  1218407342","liveness: 12<br />tiktok_engagement:  1216274119","liveness: 17<br />tiktok_engagement:  1205773778","liveness:  8<br />tiktok_engagement:  1099250318","liveness: 28<br />tiktok_engagement:  1011400230","liveness: 10<br />tiktok_engagement:  1003575283","liveness: 12<br />tiktok_engagement:   998816945","liveness:  9<br />tiktok_engagement:   950852517","liveness: 15<br />tiktok_engagement:   941614198","liveness: 11<br />tiktok_engagement:   898264958","liveness: 11<br />tiktok_engagement:   894230110","liveness:  8<br />tiktok_engagement:   877092932","liveness: 15<br />tiktok_engagement:   873082890","liveness: 11<br />tiktok_engagement:   870185966","liveness: 17<br />tiktok_engagement:   831265405","liveness: 11<br />tiktok_engagement:   824652826","liveness: 10<br />tiktok_engagement:   812435795","liveness: 12<br />tiktok_engagement:   788127821","liveness: 11<br />tiktok_engagement:   780486439","liveness: 26<br />tiktok_engagement:   697179864","liveness: 10<br />tiktok_engagement:   691107374","liveness: 10<br />tiktok_engagement:   676526537","liveness: 47<br />tiktok_engagement:   640271236","liveness: 38<br />tiktok_engagement:   610011568","liveness: 38<br />tiktok_engagement:   604011499","liveness: 12<br />tiktok_engagement:   599652928","liveness: 38<br />tiktok_engagement:   597230898","liveness:  9<br />tiktok_engagement:   594468896","liveness: 11<br />tiktok_engagement:   587305906","liveness: 23<br />tiktok_engagement:   540178438","liveness:  8<br />tiktok_engagement:   526556510","liveness: 11<br />tiktok_engagement:   480988936","liveness: 19<br />tiktok_engagement:   445545992","liveness: 15<br />tiktok_engagement:   434000449","liveness: 11<br />tiktok_engagement:   373229883","liveness:  8<br />tiktok_engagement:   362630407","liveness: 38<br />tiktok_engagement:   351250629","liveness: 33<br />tiktok_engagement:   334119242","liveness: 31<br />tiktok_engagement:   299058205","liveness: 12<br />tiktok_engagement:   275819346","liveness:  9<br />tiktok_engagement:   275399507","liveness:  9<br />tiktok_engagement:   263674407","liveness: 15<br />tiktok_engagement:   262817032","liveness: 15<br />tiktok_engagement:   258869846","liveness: 15<br />tiktok_engagement:   229860454","liveness: 33<br />tiktok_engagement:   214137507","liveness: 41<br />tiktok_engagement:   207615226","liveness: 27<br />tiktok_engagement:   206932521","liveness: 11<br />tiktok_engagement:   171909919","liveness: 10<br />tiktok_engagement:   165728466","liveness: 12<br />tiktok_engagement:   143368299","liveness: 11<br />tiktok_engagement:   129245602","liveness: 15<br />tiktok_engagement:   122769194","liveness: 10<br />tiktok_engagement:   117441503","liveness: 43<br />tiktok_engagement:   112555183","liveness: 21<br />tiktok_engagement:   110847518","liveness:  7<br />tiktok_engagement:    85618151","liveness: 11<br />tiktok_engagement:    69485928","liveness: 16<br />tiktok_engagement:    67219400","liveness:  9<br />tiktok_engagement:    64553277","liveness: 35<br />tiktok_engagement:    57059738","liveness: 50<br />tiktok_engagement:    53093614","liveness:  8<br />tiktok_engagement:    51656925","liveness: 21<br />tiktok_engagement:    45106551","liveness: 36<br />tiktok_engagement:    30981766","liveness: 12<br />tiktok_engagement:    24777160","liveness: 11<br />tiktok_engagement:    24322062","liveness: 37<br />tiktok_engagement:    22308539","liveness: 15<br />tiktok_engagement:    21680532","liveness:  9<br />tiktok_engagement:    21580827","liveness: 25<br />tiktok_engagement:    17457451","liveness:  8<br />tiktok_engagement:    15928593","liveness: 56<br />tiktok_engagement:     7869613","liveness: 22<br />tiktok_engagement:     4841397","liveness: 12<br />tiktok_engagement:          NA","liveness: 15<br />tiktok_engagement:          NA","liveness: 26<br />tiktok_engagement:          NA","liveness:  9<br />tiktok_engagement:          NA","liveness: 37<br />tiktok_engagement:          NA","liveness: 12<br />tiktok_engagement:          NA","liveness: 12<br />tiktok_engagement:          NA","liveness:  6<br />tiktok_engagement:          NA","liveness: 15<br />tiktok_engagement:          NA","liveness:  9<br />tiktok_engagement:          NA","liveness: 11<br />tiktok_engagement:          NA"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,0,255,1)","opacity":0.69999999999999996,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(0,0,255,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":53.858032378580326,"r":9.9626400996264035,"b":53.466168534661691,"l":89.33167289331675},"font":{"color":"rgba(0,0,0,1)","family":"","size":19.925280199252807},"title":{"text":"<b> TikTok Engagement by Liveness <\/b>","font":{"color":"rgba(0,0,0,1)","family":"","size":23.910336239103362},"x":0.5,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.34999999999999964,58.649999999999999],"tickmode":"array","ticktext":["10","20","30","40","50"],"tickvals":[10,20,30,40,50],"categoryorder":"array","categoryarray":["10","20","30","40","50"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":4.9813200498132018,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":15.940224159402241},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.90569455451149117,"zeroline":false,"anchor":"y","title":{"text":"Liveness","font":{"color":"rgba(0,0,0,1)","family":"","size":18.596928185969279}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-779400221.80000007,16473915391.799999],"tickmode":"array","ticktext":["0.0e+00","5.0e+09","1.0e+10","1.5e+10"],"tickvals":[0,5000000000,10000000000,15000000000],"categoryorder":"array","categoryarray":["0.0e+00","5.0e+09","1.0e+10","1.5e+10"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":4.9813200498132018,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":15.940224159402243},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.90569455451149117,"zeroline":false,"anchor":"x","title":{"text":"TikTok Engagement","font":{"color":"rgba(0,0,0,1)","family":"","size":18.596928185969279}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":null,"bordercolor":null,"borderwidth":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":15.940224159402241}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"134378bc3c0b":{"x":{},"y":{},"type":"scatter"}},"cur_data":"134378bc3c0b","visdat":{"134378bc3c0b":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p>This plot demonstrates the association between liveness and average
TikTok engagement, a variable which is aggregated by posts made with the
song, likes and views. The highest engagement on TikTok is among from 1
song with a liveness score of 3.</p>
<p><em>Regression Model of Danceability, Energy, Liveness, Valence, and
Acousticness on TikTok Engagement</em></p>
<pre class="r"><code>spotify_df=
  spotify_df|&gt;
  mutate(tiktok_engagement = 
           `2024_tik_tok_posts` + `2024_tik_tok_likes` + `2024_tik_tok_views`) 

linear_model =
  lm(tiktok_engagement ~ danceability + energy + liveness, data = spotify_df)

tidy_model =
  broom::tidy(linear_model)|&gt; 
  mutate(
    estimate = round(estimate, 3), 
    std.error = round(std.error, 3),
    statistic = round(statistic, 2),
    p.value = ifelse(p.value &lt; 0.001, &quot;&lt;0.001&quot;, round(p.value, 3)))

model_table =
  tidy_model |&gt; 
  kable(
    col.names = c(&quot;Predictor&quot;, &quot;Estimate&quot;, &quot;Standard Error&quot;, &quot;t-Statistic&quot;, &quot;P-Value&quot;),
    caption = &quot;Linear Regression: Qualitative Song Features on TikTok Engagement&quot;,
    digits = 3,
    format = &quot;html&quot;
  ) |&gt; 
  kable_styling(
    full_width = FALSE,
    position = &quot;center&quot;,
    font_size = 14
  ) 

model_table</code></pre>
<table class="table" style="font-size: 14px; width: auto !important; margin-left: auto; margin-right: auto;">
<caption style="font-size: initial !important;">
Linear Regression: Qualitative Song Features on TikTok Engagement
</caption>
<thead>
<tr>
<th style="text-align:left;">
Predictor
</th>
<th style="text-align:right;">
Estimate
</th>
<th style="text-align:right;">
Standard Error
</th>
<th style="text-align:right;">
t-Statistic
</th>
<th style="text-align:right;">
P-Value
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
(Intercept)
</td>
<td style="text-align:right;">
2350050332
</td>
<td style="text-align:right;">
853419465
</td>
<td style="text-align:right;">
2.75
</td>
<td style="text-align:right;">
0.006
</td>
</tr>
<tr>
<td style="text-align:left;">
danceability
</td>
<td style="text-align:right;">
3329544
</td>
<td style="text-align:right;">
10118391
</td>
<td style="text-align:right;">
0.33
</td>
<td style="text-align:right;">
0.742
</td>
</tr>
<tr>
<td style="text-align:left;">
energy
</td>
<td style="text-align:right;">
-4179724
</td>
<td style="text-align:right;">
9357576
</td>
<td style="text-align:right;">
-0.45
</td>
<td style="text-align:right;">
0.655
</td>
</tr>
<tr>
<td style="text-align:left;">
liveness
</td>
<td style="text-align:right;">
-18201752
</td>
<td style="text-align:right;">
11231710
</td>
<td style="text-align:right;">
-1.62
</td>
<td style="text-align:right;">
0.106
</td>
</tr>
</tbody>
</table>
<p>Based on the linear regression assessing the relationship between
TikTok engagement and qualitative features of the song such as
danceability, energy, and liveness, none of the variables have a
statistically significant association with TikTok engagement. However,
one interesting insight is that danceability has a positive association
with TikTok engagement although it is not statistically significant.
This regression was driven by the hypothesis that livelier and energetic
music will have more TikTok engagement considering the popularity of
TikTok dance challenges. Although the findings were not statically
significant, they were interesting.</p>
</div>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->
<script>
$(document).ready(function () {
  window.initializeCodeFolding("hide" === "show");
});
</script>

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
